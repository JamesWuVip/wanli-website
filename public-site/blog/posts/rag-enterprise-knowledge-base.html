<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAGæŠ€æœ¯åœ¨ä¼ä¸šçŸ¥è¯†åº“ä¸­çš„åº”ç”¨å®è·µ - æ™ºç†ç§‘æŠ€æŠ€æœ¯åšå®¢</title>
    <meta name="description" content="æ·±å…¥è§£æRAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŠ€æœ¯å¦‚ä½•è§£å†³ä¼ä¸šçŸ¥è¯†åº“åº”ç”¨ç—›ç‚¹ï¼ŒåŒ…å«å®Œæ•´çš„æŠ€æœ¯æ¶æ„ã€å‘é‡æ•°æ®åº“é€‰å‹ã€æ£€ç´¢ç­–ç•¥ä¼˜åŒ–åŠçœŸå®æ¡ˆä¾‹åˆ†äº«">
    <meta name="keywords" content="RAG,å‘é‡æ•°æ®åº“,ä¼ä¸šçŸ¥è¯†åº“,LangChain,AIåº”ç”¨">
    <meta name="author" content="æ™ºç†ç§‘æŠ€æŠ€æœ¯å›¢é˜Ÿ">
    <link rel="canonical" href="https://zhili.wanli.ai/blog/posts/rag-enterprise-knowledge-base.html">

    <!-- Open Graph -->
    <meta property="og:title" content="RAGæŠ€æœ¯åœ¨ä¼ä¸šçŸ¥è¯†åº“ä¸­çš„åº”ç”¨å®è·µ">
    <meta property="og:description" content="æ·±å…¥è§£æRAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŠ€æœ¯å¦‚ä½•è§£å†³ä¼ä¸šçŸ¥è¯†åº“åº”ç”¨ç—›ç‚¹ï¼ŒåŒ…å«å®Œæ•´çš„æŠ€æœ¯æ¶æ„ã€å‘é‡æ•°æ®åº“é€‰å‹ã€æ£€ç´¢ç­–ç•¥ä¼˜åŒ–åŠçœŸå®æ¡ˆä¾‹åˆ†äº«">
    <meta property="og:image" content="https://zhili.wanli.ai/og-image.jpg">
    <meta property="og:url" content="https://zhili.wanli.ai/blog/posts/rag-enterprise-knowledge-base.html">
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="2024-12-28T10:00:00+08:00">
    <meta property="article:author" content="æ™ºç†ç§‘æŠ€æŠ€æœ¯å›¢é˜Ÿ">
    <meta property="article:section" content="AIåº”ç”¨å¼€å‘">
    <meta property="article:tag" content="RAG">
    <meta property="article:tag" content="å‘é‡æ•°æ®åº“">
    <meta property="article:tag" content="ä¼ä¸šçŸ¥è¯†åº“">
    <meta property="article:tag" content="LangChain">
    <meta property="article:tag" content="AIåº”ç”¨">

    <!-- Article ç»“æ„åŒ–æ•°æ® -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "headline": "RAGæŠ€æœ¯åœ¨ä¼ä¸šçŸ¥è¯†åº“ä¸­çš„åº”ç”¨å®è·µ",
      "description": "æ·±å…¥è§£æRAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŠ€æœ¯å¦‚ä½•è§£å†³ä¼ä¸šçŸ¥è¯†åº“åº”ç”¨ç—›ç‚¹ï¼ŒåŒ…å«å®Œæ•´çš„æŠ€æœ¯æ¶æ„ã€å‘é‡æ•°æ®åº“é€‰å‹ã€æ£€ç´¢ç­–ç•¥ä¼˜åŒ–åŠçœŸå®æ¡ˆä¾‹åˆ†äº«",
      "image": "https://zhili.wanli.ai/og-image.jpg",
      "author": {
        "@type": "Organization",
        "name": "æ™ºç†ç§‘æŠ€æŠ€æœ¯å›¢é˜Ÿ",
        "url": "https://zhili.wanli.ai"
      },
      "publisher": {
        "@type": "Organization",
        "name": "åŒ—äº¬æ™ºç†ç§‘æŠ€æœ‰é™å…¬å¸",
        "logo": {
          "@type": "ImageObject",
          "url": "https://zhili.wanli.ai/logo.png"
        }
      },
      "datePublished": "2024-12-28",
      "dateModified": "2024-12-28",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://zhili.wanli.ai/blog/posts/rag-enterprise-knowledge-base.html"
      }
    }
    </script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- ç™¾åº¦ç»Ÿè®¡ -->
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?899d2895125d00f40d4e27a4e9490d14";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HYYQPK3KW2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-HYYQPK3KW2');
    </script>

    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Microsoft YaHei";
        }

        .prose {
            max-width: 800px;
            margin: 0 auto;
            color: #374151;
        }

        .prose h2 {
            font-size: 1.875rem;
            font-weight: 700;
            margin-top: 3rem;
            margin-bottom: 1rem;
            color: #111827;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #e5e7eb;
        }

        .prose h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-top: 2rem;
            margin-bottom: 0.75rem;
            color: #1f2937;
        }

        .prose h4 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
            color: #374151;
        }

        .prose p {
            margin-bottom: 1.25rem;
            line-height: 1.75;
            color: #4b5563;
        }

        .prose ul, .prose ol {
            margin-bottom: 1.25rem;
            padding-left: 1.5rem;
        }

        .prose li {
            margin-bottom: 0.5rem;
            color: #4b5563;
            line-height: 1.75;
        }

        .prose code {
            background: #f3f4f6;
            padding: 0.2rem 0.4rem;
            border-radius: 0.25rem;
            font-family: 'SF Mono', 'Monaco', 'Cascadia Code', 'Courier New', monospace;
            color: #dc2626;
            font-size: 0.875em;
        }

        .prose pre {
            background: #1f2937;
            padding: 1.5rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            margin-bottom: 1.5rem;
            border: 1px solid #374151;
        }

        .prose pre code {
            background: transparent;
            padding: 0;
            color: #e5e7eb;
            font-size: 0.875rem;
        }

        .prose a {
            color: #2563eb;
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: border-color 0.2s;
        }

        .prose a:hover {
            border-bottom-color: #2563eb;
        }

        .prose strong {
            font-weight: 600;
            color: #111827;
        }

        .prose blockquote {
            border-left: 4px solid #2563eb;
            padding-left: 1.5rem;
            margin: 1.5rem 0;
            color: #6b7280;
            font-style: italic;
        }

        .prose table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }

        .prose th {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            padding: 0.75rem;
            text-align: left;
            font-weight: 600;
            color: #111827;
        }

        .prose td {
            border: 1px solid #e5e7eb;
            padding: 0.75rem;
            color: #4b5563;
        }

        .prose tr:nth-child(even) {
            background: #f9fafb;
        }

        .prose img {
            max-width: 100%;
            border-radius: 0.5rem;
            margin: 1.5rem 0;
        }

        .category-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .category-ai { background: #dbeafe; color: #1e40af; }
        .category-architecture { background: #fce7f3; color: #9f1239; }
        .category-system { background: #dcfce7; color: #166534; }
        .category-case { background: #fef3c7; color: #92400e; }

        .tag {
            display: inline-block;
            padding: 4px 12px;
            background: #f3f4f6;
            color: #6b7280;
            border-radius: 4px;
            font-size: 0.875rem;
            margin-right: 8px;
            margin-bottom: 8px;
        }

        .contact-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 0.75rem;
            padding: 2rem;
            margin: 2rem 0;
        }

        .nav-link {
            position: relative;
            padding-bottom: 4px;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: #2563eb;
            transition: width 0.3s;
        }

        .nav-link:hover::after {
            width: 100%;
        }
    </style>

    <!-- JSON-LD ç»“æ„åŒ–æ•°æ® -->
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "TechArticle",
  "headline": "RAGæŠ€æœ¯åœ¨ä¼ä¸šçŸ¥è¯†åº“ä¸­çš„åº”ç”¨å®è·µ",
  "description": "æ·±å…¥è§£æRAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŠ€æœ¯å¦‚ä½•è§£å†³ä¼ä¸šçŸ¥è¯†åº“åº”ç”¨ç—›ç‚¹ï¼ŒåŒ…å«å®Œæ•´çš„æŠ€æœ¯æ¶æ„ã€å‘é‡æ•°æ®åº“é€‰å‹ã€æ£€ç´¢ç­–ç•¥ä¼˜åŒ–åŠçœŸå®æ¡ˆä¾‹åˆ†äº«",
  "image": "https://zhili.wanli.ai/blog-covers/rag-enterprise-knowledge-base.jpg",
  "datePublished": "2024-12-28",
  "dateModified": "2024-12-28",
  "author": {
    "@type": "Organization",
    "name": "æ™ºç†ç§‘æŠ€",
    "url": "https://zhili.wanli.ai",
    "logo": {
      "@type": "ImageObject",
      "url": "https://zhili.wanli.ai/og-image.jpg"
    }
  },
  "publisher": {
    "@type": "Organization",
    "name": "æ™ºç†ç§‘æŠ€",
    "url": "https://zhili.wanli.ai",
    "logo": {
      "@type": "ImageObject",
      "url": "https://zhili.wanli.ai/og-image.jpg"
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://zhili.wanli.ai/blog/posts/rag-enterprise-knowledge-base.html"
  },
  "keywords": "RAG, å‘é‡æ•°æ®åº“, ä¼ä¸šçŸ¥è¯†åº“, LangChain, AIåº”ç”¨",
  "articleSection": "AIåº”ç”¨å¼€å‘",
  "proficiencyLevel": "Advanced",
  "dependencies": "LangChain, OpenAI, Python",
  "about": {
    "@type": "Thing",
    "name": "AIåº”ç”¨å¼€å‘"
  }
}
    </script>
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "é¦–é¡µ",
      "item": "https://zhili.wanli.ai"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "æŠ€æœ¯åšå®¢",
      "item": "https://zhili.wanli.ai/blog/"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "RAGæŠ€æœ¯åœ¨ä¼ä¸šçŸ¥è¯†åº“ä¸­çš„åº”ç”¨å®è·µ",
      "item": "https://zhili.wanli.ai/blog/posts/rag-enterprise-knowledge-base.html"
    }
  ]
}
    </script>
</head>
<body class="bg-gray-50 text-gray-900">

    <!-- å¯¼èˆªæ  -->
    <nav class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <a href="/" class="text-xl font-bold text-gray-900 hover:text-blue-600 transition">
                    æ™ºç†ç§‘æŠ€
                </a>
                <div class="flex gap-8">
                    <a href="/" class="nav-link text-gray-600 hover:text-gray-900 transition">é¦–é¡µ</a>
                    <a href="/blog/" class="nav-link text-blue-600 font-medium">åšå®¢</a>
                    <a href="/#contact" class="nav-link text-gray-600 hover:text-gray-900 transition">è”ç³»æˆ‘ä»¬</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- æ–‡ç« å†…å®¹ -->
    <main class="py-12">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">

            <!-- æ–‡ç« å¤´éƒ¨ -->
            <header class="mb-12">
                <div class="mb-6">
                    <a href="/blog/" class="inline-flex items-center text-gray-600 hover:text-gray-900 text-sm">
                        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                        </svg>
                        è¿”å›åšå®¢åˆ—è¡¨
                    </a>
                </div>
                <div class="flex items-center gap-3 mb-4">
                    <span class="category-badge category-ai">AIåº”ç”¨å¼€å‘</span>
                    <span class="text-gray-500 text-sm">2024å¹´12æœˆ28æ—¥</span>
                    <span class="text-gray-400">Â·</span>
                    <span class="text-gray-500 text-sm flex items-center">
                        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        12åˆ†é’Ÿ
                    </span>
                </div>
                <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4 leading-tight">
                    RAGæŠ€æœ¯åœ¨ä¼ä¸šçŸ¥è¯†åº“ä¸­çš„åº”ç”¨å®è·µ
                </h1>
                <p class="text-xl text-gray-600 leading-relaxed">
                    æ·±å…¥è§£æRAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŠ€æœ¯å¦‚ä½•è§£å†³ä¼ä¸šçŸ¥è¯†åº“åº”ç”¨ç—›ç‚¹ï¼ŒåŒ…å«å®Œæ•´çš„æŠ€æœ¯æ¶æ„ã€å‘é‡æ•°æ®åº“é€‰å‹ã€æ£€ç´¢ç­–ç•¥ä¼˜åŒ–åŠçœŸå®æ¡ˆä¾‹åˆ†äº«
                </p>
            </header>

            <!-- æ–‡ç« ä¸»ä½“ -->
            <article class="prose prose-lg">
                <h2>ä¸€ã€ä¸ºä»€ä¹ˆä¼ä¸šçŸ¥è¯†åº“éœ€è¦RAGï¼Ÿ</h2>
<p>ä¼ ç»Ÿçš„ä¼ä¸šçŸ¥è¯†åº“é¢ä¸´ä¸‰å¤§ç—›ç‚¹ï¼š</p>
<ol>
<li><strong>æ£€ç´¢æ•ˆç‡ä½</strong>ï¼šåŸºäºå…³é”®è¯çš„æœç´¢æ— æ³•ç†è§£è¯­ä¹‰ï¼Œç”¨æˆ·éœ€è¦åå¤å°è¯•ä¸åŒå…³é”®è¯</li>
<li><strong>çŸ¥è¯†å­¤å²›</strong>ï¼šä¸åŒéƒ¨é—¨çš„çŸ¥è¯†åˆ†æ•£åœ¨å„ä¸ªç³»ç»Ÿä¸­ï¼Œéš¾ä»¥æ•´åˆ</li>
<li><strong>æ›´æ–°æ»å</strong>ï¼šå¤§è¯­è¨€æ¨¡å‹çš„çŸ¥è¯†æˆªæ­¢æ—¶é—´å›ºå®šï¼Œæ— æ³•è·å–ä¼ä¸šæœ€æ–°ä¿¡æ¯</li>
</ol>
<p>RAGï¼ˆRetrieval-Augmented Generationï¼‰æŠ€æœ¯é€šè¿‡&quot;æ£€ç´¢+ç”Ÿæˆ&quot;çš„æ–¹å¼ï¼Œå®Œç¾è§£å†³äº†è¿™äº›é—®é¢˜ï¼š</p>
<pre><code>ç”¨æˆ·æé—® â†’ å‘é‡åŒ– â†’ æ£€ç´¢ç›¸å…³æ–‡æ¡£ â†’ æ³¨å…¥æç¤ºè¯ â†’ LLMç”Ÿæˆå›ç­”
</code></pre>
<h3>çœŸå®æ¡ˆä¾‹</h3>
<p>æˆ‘ä»¬ä¸ºæŸåˆ¶é€ ä¸šä¼ä¸šæ„å»ºçš„RAGçŸ¥è¯†åº“ç³»ç»Ÿï¼Œå®ç°äº†ï¼š</p>
<ul>
<li>âœ… <strong>æ£€ç´¢å‡†ç¡®ç‡æå‡è‡³92%</strong>ï¼ˆåŸå…³é”®è¯æœç´¢ä»…60%ï¼‰</li>
<li>âœ… <strong>å¹³å‡å“åº”æ—¶é—´3ç§’</strong>ï¼ˆäººå·¥æŸ¥æ‰¾éœ€è¦10-30åˆ†é’Ÿï¼‰</li>
<li>âœ… <strong>çŸ¥è¯†è¦†ç›–ç‡100%</strong>ï¼ˆæ•´åˆäº†5ä¸ªä¸åŒéƒ¨é—¨çš„æ–‡æ¡£ï¼‰</li>
<li>âœ… <strong>ç”¨æˆ·æ»¡æ„åº¦ä»45%æå‡è‡³89%</strong></li>
</ul>
<h2>äºŒã€RAGç³»ç»ŸæŠ€æœ¯æ¶æ„</h2>
<h3>2.1 æ•´ä½“æ¶æ„è®¾è®¡</h3>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”¨æˆ·ç•Œé¢    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           åº”ç”¨å±‚ï¼ˆAPI Serverï¼‰           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ æŸ¥è¯¢å¤„ç†   â”‚      â”‚ æ–‡æ¡£ç®¡ç†   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‘é‡æ•°æ®åº“   â”‚    â”‚  æ–‡æ¡£å­˜å‚¨       â”‚
â”‚ (Pinecone/   â”‚    â”‚  (S3/OSS)      â”‚
â”‚  Milvus)     â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Embedding Model      â”‚
â”‚   (OpenAI/æœ¬åœ°æ¨¡å‹)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3>2.2 æ ¸å¿ƒç»„ä»¶</h3>
<h4>1. æ–‡æ¡£å¤„ç†å±‚</h4>
<p>è´Ÿè´£å°†å„ç§æ ¼å¼çš„æ–‡æ¡£è½¬æ¢ä¸ºå¯æ£€ç´¢çš„æ–‡æœ¬å—ï¼š</p>
<pre><code class="language-python">from langchain.document_loaders import (
    PDFLoader,
    DocxLoader,
    UnstructuredMarkdownLoader
)
from langchain.text_splitter import RecursiveCharacterTextSplitter

# åŠ è½½æ–‡æ¡£
loader = PDFLoader(&quot;ä¼ä¸šè§„ç« åˆ¶åº¦.pdf&quot;)
documents = loader.load()

# æ–‡æœ¬åˆ†å—ï¼ˆå…³é”®å‚æ•°ï¼‰
text_splitter = RecursiveCharacterTextSplitter(
    chunk_size=1000,        # æ¯å—1000å­—ç¬¦
    chunk_overlap=200,      # é‡å 200å­—ç¬¦ï¼Œé¿å…è¯­ä¹‰æ–­è£‚
    separators=[&quot;\n\n&quot;, &quot;\n&quot;, &quot;ã€‚&quot;, &quot;ï¼&quot;, &quot;ï¼Ÿ&quot;, &quot;ï¼›&quot;, &quot; &quot;, &quot;&quot;]
)

chunks = text_splitter.split_documents(documents)
</code></pre>
<p><strong>åˆ†å—ç­–ç•¥ä¼˜åŒ–æŠ€å·§</strong>ï¼š</p>
<ul>
<li>æŠ€æœ¯æ–‡æ¡£ï¼š<code>chunk_size=1500</code>ï¼ˆä»£ç ç¤ºä¾‹éœ€è¦å®Œæ•´æ€§ï¼‰</li>
<li>æ”¿ç­–è§„ç« ï¼š<code>chunk_size=800</code>ï¼ˆæ®µè½ç‹¬ç«‹æ€§å¼ºï¼‰</li>
<li>å¯¹è¯è®°å½•ï¼š<code>chunk_size=500</code>ï¼ˆä¸Šä¸‹æ–‡åˆ‡æ¢é¢‘ç¹ï¼‰</li>
</ul>
<h4>2. å‘é‡åŒ–ä¸å­˜å‚¨</h4>
<pre><code class="language-python">from langchain.embeddings import OpenAIEmbeddings
from langchain.vectorstores import Pinecone
import pinecone

# åˆå§‹åŒ–å‘é‡æ¨¡å‹
embeddings = OpenAIEmbeddings(
    model=&quot;text-embedding-ada-002&quot;,  # 1536ç»´å‘é‡
    openai_api_key=&quot;your-api-key&quot;
)

# åˆå§‹åŒ–Pinecone
pinecone.init(
    api_key=&quot;your-pinecone-key&quot;,
    environment=&quot;us-west1-gcp&quot;
)

# åˆ›å»ºå‘é‡ç´¢å¼•
index = pinecone.Index(&quot;enterprise-knowledge&quot;)

# æ‰¹é‡å‘é‡åŒ–å¹¶å­˜å‚¨
vectorstore = Pinecone.from_documents(
    documents=chunks,
    embedding=embeddings,
    index_name=&quot;enterprise-knowledge&quot;
)
</code></pre>
<h4>3. æ£€ç´¢å±‚å®ç°</h4>
<pre><code class="language-python">from langchain.retrievers import ContextualCompressionRetriever
from langchain.retrievers.document_compressors import LLMChainExtractor

# åŸºç¡€æ£€ç´¢å™¨
base_retriever = vectorstore.as_retriever(
    search_type=&quot;similarity&quot;,  # ç›¸ä¼¼åº¦æœç´¢
    search_kwargs={&quot;k&quot;: 5}     # è¿”å›Top 5ç»“æœ
)

# é«˜çº§ï¼šä¸Šä¸‹æ–‡å‹ç¼©æ£€ç´¢å™¨ï¼ˆæå–æœ€ç›¸å…³ç‰‡æ®µï¼‰
compressor = LLMChainExtractor.from_llm(llm)
compression_retriever = ContextualCompressionRetriever(
    base_compressor=compressor,
    base_retriever=base_retriever
)

# æ‰§è¡Œæ£€ç´¢
query = &quot;å…¬å¸çš„å¹´å‡æ”¿ç­–æ˜¯ä»€ä¹ˆï¼Ÿ&quot;
relevant_docs = compression_retriever.get_relevant_documents(query)
</code></pre>
<h4>4. ç”Ÿæˆå±‚é›†æˆ</h4>
<pre><code class="language-python">from langchain.chains import RetrievalQA
from langchain.chat_models import ChatOpenAI

# åˆå§‹åŒ–LLM
llm = ChatOpenAI(
    model=&quot;gpt-4&quot;,
    temperature=0.2,  # é™ä½æ¸©åº¦ï¼Œæé«˜å‡†ç¡®æ€§
    max_tokens=1000
)

# åˆ›å»ºé—®ç­”é“¾
qa_chain = RetrievalQA.from_chain_type(
    llm=llm,
    chain_type=&quot;stuff&quot;,  # å°†æ£€ç´¢åˆ°çš„æ–‡æ¡£ç›´æ¥å¡å…¥æç¤ºè¯
    retriever=compression_retriever,
    return_source_documents=True  # è¿”å›æ¥æºæ–‡æ¡£
)

# æ‰§è¡Œé—®ç­”
result = qa_chain({&quot;query&quot;: query})

print(&quot;å›ç­”:&quot;, result[&quot;result&quot;])
print(&quot;æ¥æºæ–‡æ¡£:&quot;, result[&quot;source_documents&quot;])
</code></pre>
<h2>ä¸‰ã€å‘é‡æ•°æ®åº“é€‰å‹å¯¹æ¯”</h2>
<table>
<thead>
<tr>
<th>æ•°æ®åº“</th>
<th>ä¼˜åŠ¿</th>
<th>åŠ£åŠ¿</th>
<th>é€‚ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Pinecone</strong></td>
<td>â€¢ å…¨æ‰˜ç®¡ï¼Œæ— éœ€è¿ç»´<br>â€¢ æ€§èƒ½æä½³<br>â€¢ å®æ—¶æ›´æ–°</td>
<td>â€¢ æˆæœ¬è¾ƒé«˜<br>â€¢ æ•°æ®å­˜å‚¨åœ¨äº‘ç«¯</td>
<td>ä¸­å°å‹ä¼ä¸š<br>å¿«é€Ÿä¸Šçº¿é¡¹ç›®</td>
</tr>
<tr>
<td><strong>Milvus</strong></td>
<td>â€¢ å¼€æºå…è´¹<br>â€¢ æ”¯æŒæ··åˆæŸ¥è¯¢<br>â€¢ é«˜åº¦å¯å®šåˆ¶</td>
<td>â€¢ éœ€è¦è‡ªå»ºè¿ç»´<br>â€¢ å­¦ä¹ æ›²çº¿é™¡</td>
<td>å¤§å‹ä¼ä¸š<br>å¯¹æ•°æ®å®‰å…¨è¦æ±‚é«˜</td>
</tr>
<tr>
<td><strong>Qdrant</strong></td>
<td>â€¢ Rustç¼–å†™ï¼Œæ€§èƒ½å¥½<br>â€¢ æ”¯æŒè¿‡æ»¤æ¡ä»¶<br>â€¢ éƒ¨ç½²ç®€å•</td>
<td>â€¢ ç”Ÿæ€ç›¸å¯¹å°<br>â€¢ æ–‡æ¡£è¾ƒå°‘</td>
<td>ä¸­å°å‹é¡¹ç›®<br>æœ¬åœ°åŒ–éƒ¨ç½²</td>
</tr>
<tr>
<td><strong>Weaviate</strong></td>
<td>â€¢ æ”¯æŒå¤šæ¨¡æ€<br>â€¢ GraphQLæŸ¥è¯¢<br>â€¢ æ¨¡å—åŒ–æ¶æ„</td>
<td>â€¢ èµ„æºå ç”¨å¤§<br>â€¢ å¤æ‚åº¦é«˜</td>
<td>å¤šæ¨¡æ€åº”ç”¨<br>å¤æ‚çŸ¥è¯†å›¾è°±</td>
</tr>
</tbody></table>
<h3>æˆ‘ä»¬çš„é€‰å‹å»ºè®®</h3>
<p><strong>åœºæ™¯1ï¼šå¿«é€ŸéªŒè¯POC</strong></p>
<pre><code>Pinecone + OpenAI Embeddings
ä¼˜åŠ¿ï¼š3å¤©å†…ä¸Šçº¿ï¼Œæˆæœ¬å¯æ§ï¼ˆ$70/æœˆèµ·ï¼‰
</code></pre>
<p><strong>åœºæ™¯2ï¼šå¤§è§„æ¨¡ä¼ä¸šéƒ¨ç½²</strong></p>
<pre><code>Milvus + æœ¬åœ°Embeddingæ¨¡å‹ï¼ˆå¦‚bge-large-zhï¼‰
ä¼˜åŠ¿ï¼šæ•°æ®ç§æœ‰åŒ–ï¼Œé•¿æœŸæˆæœ¬ä½
</code></pre>
<p><strong>åœºæ™¯3ï¼šé¢„ç®—æœ‰é™çš„åˆåˆ›å›¢é˜Ÿ</strong></p>
<pre><code>ChromaDBï¼ˆå¼€æºå†…å­˜æ•°æ®åº“ï¼‰+ OpenAI Embeddings
ä¼˜åŠ¿ï¼šå®Œå…¨å…è´¹ï¼Œå•æœºå³å¯è¿è¡Œ
</code></pre>
<h2>å››ã€æ£€ç´¢è´¨é‡ä¼˜åŒ–å®æˆ˜</h2>
<h3>4.1 æ··åˆæ£€ç´¢ç­–ç•¥</h3>
<p>å•çº¯çš„å‘é‡æ£€ç´¢å¯èƒ½ä¸¢å¤±å…³é”®è¯åŒ¹é…ï¼Œæ¨èä½¿ç”¨æ··åˆæ£€ç´¢ï¼š</p>
<pre><code class="language-python">from langchain.retrievers import EnsembleRetriever
from langchain.retrievers import BM25Retriever

# BM25å…³é”®è¯æ£€ç´¢
bm25_retriever = BM25Retriever.from_documents(chunks)
bm25_retriever.k = 3

# å‘é‡æ£€ç´¢
vector_retriever = vectorstore.as_retriever(search_kwargs={&quot;k&quot;: 3})

# æ··åˆæ£€ç´¢ï¼ˆæƒé‡é…æ¯”ï¼‰
ensemble_retriever = EnsembleRetriever(
    retrievers=[bm25_retriever, vector_retriever],
    weights=[0.3, 0.7]  # 30%å…³é”®è¯ + 70%è¯­ä¹‰
)

results = ensemble_retriever.get_relevant_documents(query)
</code></pre>
<p><strong>æ•ˆæœå¯¹æ¯”</strong>ï¼š</p>
<table>
<thead>
<tr>
<th>æ£€ç´¢æ–¹å¼</th>
<th>å‡†ç¡®ç‡</th>
<th>å¬å›ç‡</th>
<th>å“åº”æ—¶é—´</th>
</tr>
</thead>
<tbody><tr>
<td>çº¯å…³é”®è¯ï¼ˆBM25ï¼‰</td>
<td>62%</td>
<td>58%</td>
<td>150ms</td>
</tr>
<tr>
<td>çº¯å‘é‡æ£€ç´¢</td>
<td>78%</td>
<td>85%</td>
<td>320ms</td>
</tr>
<tr>
<td><strong>æ··åˆæ£€ç´¢</strong></td>
<td><strong>89%</strong></td>
<td><strong>91%</strong></td>
<td>280ms</td>
</tr>
</tbody></table>
<h3>4.2 é‡æ’åºï¼ˆRerankingï¼‰</h3>
<p>æ£€ç´¢åå¯¹ç»“æœé‡æ–°æ’åºï¼Œæå‡Top 1çš„å‡†ç¡®æ€§ï¼š</p>
<pre><code class="language-python">from langchain.retrievers.document_compressors import CohereRerank

# ä½¿ç”¨Cohere Rerank API
reranker = CohereRerank(
    cohere_api_key=&quot;your-cohere-key&quot;,
    top_n=3  # ä»5ä¸ªå€™é€‰ä¸­é€‰å‡ºæœ€ç›¸å…³çš„3ä¸ª
)

# åº”ç”¨é‡æ’åº
rerank_retriever = ContextualCompressionRetriever(
    base_compressor=reranker,
    base_retriever=ensemble_retriever
)
</code></pre>
<p><strong>å®æµ‹æ•ˆæœ</strong>ï¼š</p>
<ul>
<li>Top 1å‡†ç¡®ç‡ï¼š73% â†’ 91%ï¼ˆæå‡18ä¸ªç™¾åˆ†ç‚¹ï¼‰</li>
<li>ç”¨æˆ·æ»¡æ„åº¦ï¼š79% â†’ 94%</li>
</ul>
<h3>4.3 å…ƒæ•°æ®è¿‡æ»¤</h3>
<p>ä¸ºæ–‡æ¡£æ·»åŠ å…ƒæ•°æ®ï¼Œæ”¯æŒç²¾ç¡®è¿‡æ»¤ï¼š</p>
<pre><code class="language-python"># æ·»åŠ å…ƒæ•°æ®
documents = [
    Document(
        page_content=&quot;...&quot;,
        metadata={
            &quot;department&quot;: &quot;HR&quot;,      # éƒ¨é—¨
            &quot;doc_type&quot;: &quot;policy&quot;,    # æ–‡æ¡£ç±»å‹
            &quot;version&quot;: &quot;2024-v1&quot;,    # ç‰ˆæœ¬
            &quot;access_level&quot;: &quot;public&quot; # æƒé™çº§åˆ«
        }
    )
]

# å¸¦è¿‡æ»¤æ¡ä»¶çš„æ£€ç´¢
retriever = vectorstore.as_retriever(
    search_kwargs={
        &quot;k&quot;: 5,
        &quot;filter&quot;: {
            &quot;department&quot;: &quot;HR&quot;,
            &quot;access_level&quot;: &quot;public&quot;
        }
    }
)
</code></pre>
<h2>äº”ã€æç¤ºè¯å·¥ç¨‹ä¼˜åŒ–</h2>
<h3>5.1 ç³»ç»Ÿæç¤ºè¯æ¨¡æ¿</h3>
<pre><code class="language-python">SYSTEM_PROMPT = &quot;&quot;&quot;ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ä¼ä¸šçŸ¥è¯†åº“åŠ©æ‰‹ã€‚

**è§’è‰²å®šä½**ï¼š
- åŸºäºæä¾›çš„ä¼ä¸šæ–‡æ¡£å›ç­”é—®é¢˜
- å‡†ç¡®å¼•ç”¨æ¥æºä¿¡æ¯
- æ˜ç¡®åŒºåˆ†ç¡®å®šæ€§çŸ¥è¯†å’Œæ¨æµ‹æ€§å»ºè®®

**å›ç­”è§„èŒƒ**ï¼š
1. å¦‚æœæ–‡æ¡£ä¸­æœ‰æ˜ç¡®ç­”æ¡ˆï¼Œç›´æ¥å¼•ç”¨å¹¶æ³¨æ˜æ¥æº
2. å¦‚æœæ–‡æ¡£ä¸­æ²¡æœ‰ç›¸å…³ä¿¡æ¯ï¼Œæ˜ç¡®å‘ŠçŸ¥ç”¨æˆ·
3. ä¸è¦ç¼–é€ æˆ–çŒœæµ‹ä¿¡æ¯
4. ä½¿ç”¨ä¸“ä¸šä½†æ˜“æ‡‚çš„è¯­è¨€

**å‚è€ƒæ–‡æ¡£**ï¼š
{context}

**ç”¨æˆ·é—®é¢˜**ï¼š
{question}

è¯·åŸºäºä»¥ä¸Šæ–‡æ¡£å›ç­”é—®é¢˜ã€‚å¦‚æœæ–‡æ¡£ä¸­æ²¡æœ‰ç›¸å…³ä¿¡æ¯ï¼Œè¯·å›å¤ï¼š&quot;æŠ±æ­‰ï¼Œåœ¨å½“å‰çŸ¥è¯†åº“ä¸­æœªæ‰¾åˆ°ç›¸å…³ä¿¡æ¯ï¼Œå»ºè®®æ‚¨è”ç³»[ç›¸å…³éƒ¨é—¨]è·å–å¸®åŠ©ã€‚&quot;
&quot;&quot;&quot;
</code></pre>
<h3>5.2 Few-Shotç¤ºä¾‹</h3>
<pre><code class="language-python">FEW_SHOT_EXAMPLES = [
    {
        &quot;question&quot;: &quot;å…¬å¸çš„å¹´å‡å¤©æ•°æ˜¯å¤šå°‘ï¼Ÿ&quot;,
        &quot;answer&quot;: &quot;æ ¹æ®ã€Šå‘˜å·¥æ‰‹å†Œã€‹ç¬¬3.2æ¡è§„å®šï¼š\n- å·¥ä½œæ»¡1å¹´ï¼š5å¤©\n- å·¥ä½œæ»¡3å¹´ï¼š10å¤©\n- å·¥ä½œæ»¡5å¹´ï¼š15å¤©\n\næ¥æºï¼šå‘˜å·¥æ‰‹å†Œv2024.pdfï¼Œç¬¬12é¡µ&quot;
    },
    {
        &quot;question&quot;: &quot;å¦‚ä½•ç”³è¯·å‡ºå·®è¡¥è´´ï¼Ÿ&quot;,
        &quot;answer&quot;: &quot;å‡ºå·®è¡¥è´´ç”³è¯·æµç¨‹ï¼š\n1. åœ¨OAç³»ç»Ÿæäº¤å‡ºå·®ç”³è¯·\n2. ä¸Šä¼ ç¥¨æ®å‡­è¯\n3. éƒ¨é—¨ä¸»ç®¡å®¡æ‰¹\n4. è´¢åŠ¡éƒ¨å®¡æ ¸\n5. 3ä¸ªå·¥ä½œæ—¥å†…åˆ°è´¦\n\næ¥æºï¼šè´¢åŠ¡ç®¡ç†åˆ¶åº¦.docx&quot;
    }
]
</code></pre>
<h2>å…­ã€æˆæœ¬ä¼˜åŒ–æ–¹æ¡ˆ</h2>
<h3>6.1 Embeddingæ¨¡å‹æˆæœ¬å¯¹æ¯”</h3>
<table>
<thead>
<tr>
<th>æ–¹æ¡ˆ</th>
<th>æˆæœ¬</th>
<th>æ€§èƒ½</th>
<th>æ¨èåœºæ™¯</th>
</tr>
</thead>
<tbody><tr>
<td>OpenAI text-embedding-ada-002</td>
<td>$0.0001/1K tokens</td>
<td>1536ç»´ï¼Œä¼˜ç§€</td>
<td>è‹±æ–‡ä¸ºä¸»</td>
</tr>
<tr>
<td>OpenAI text-embedding-3-small</td>
<td>$0.00002/1K tokens</td>
<td>1536ç»´ï¼Œæ€§ä»·æ¯”é«˜</td>
<td><strong>æ¨è</strong></td>
</tr>
<tr>
<td>æœ¬åœ°bge-large-zh-v1.5</td>
<td>å…è´¹ï¼ˆGPUæˆæœ¬ï¼‰</td>
<td>1024ç»´ï¼Œä¸­æ–‡ä¼˜ç§€</td>
<td>å¤§é‡æ•°æ®</td>
</tr>
<tr>
<td>æœ¬åœ°m3e-base</td>
<td>å…è´¹</td>
<td>768ç»´ï¼Œä¸­ç­‰</td>
<td>é¢„ç®—æœ‰é™</td>
</tr>
</tbody></table>
<p><strong>æˆæœ¬ä¼˜åŒ–ç­–ç•¥</strong>ï¼š</p>
<pre><code class="language-python"># æ–¹æ¡ˆ1ï¼šåˆ†å±‚å­˜å‚¨ï¼ˆå†·çƒ­æ•°æ®åˆ†ç¦»ï¼‰
def get_embeddings(text, is_hot_data=True):
    if is_hot_data:
        # é«˜é¢‘è®¿é—®æ•°æ®ä½¿ç”¨é«˜è´¨é‡embedding
        return openai_embeddings.embed_query(text)
    else:
        # ä½é¢‘æ•°æ®ä½¿ç”¨æœ¬åœ°æ¨¡å‹
        return local_embeddings.embed_query(text)

# æ–¹æ¡ˆ2ï¼šç¼“å­˜å¸¸è§æŸ¥è¯¢
from functools import lru_cache

@lru_cache(maxsize=1000)
def get_cached_answer(query):
    return qa_chain({&quot;query&quot;: query})
</code></pre>
<p><strong>å®é™…æ”¶ç›Š</strong>ï¼š</p>
<p>æŸä¼ä¸šçŸ¥è¯†åº“ï¼ˆ10ä¸‡æ–‡æ¡£ï¼‰çš„æˆæœ¬ä¼˜åŒ–ï¼š</p>
<ul>
<li>ä¼˜åŒ–å‰ï¼š$850/æœˆï¼ˆå…¨é‡OpenAI Embeddingï¼‰</li>
<li>ä¼˜åŒ–åï¼š$120/æœˆï¼ˆæ··åˆæ–¹æ¡ˆ + ç¼“å­˜ï¼‰</li>
<li><strong>èŠ‚çœ86%æˆæœ¬</strong></li>
</ul>
<h3>6.2 LLMè°ƒç”¨ä¼˜åŒ–</h3>
<pre><code class="language-python">from langchain.cache import RedisCache
import redis

# å¯ç”¨LLMå“åº”ç¼“å­˜
redis_client = redis.Redis(host=&#39;localhost&#39;, port=6379)
langchain.llm_cache = RedisCache(redis_client)

# è‡ªåŠ¨ç¼“å­˜ç›¸ä¼¼é—®é¢˜çš„å›ç­”
# &quot;å…¬å¸å¹´å‡å¤šå°‘å¤©&quot; å’Œ &quot;å¹´å‡æœ‰å‡ å¤©&quot; ä¼šå…±äº«ç¼“å­˜
</code></pre>
<h2>ä¸ƒã€å®é™…æ¡ˆä¾‹åˆ†äº«</h2>
<h3>æ¡ˆä¾‹ï¼šæŸæ•™è‚²æœºæ„æ•™ç ”çŸ¥è¯†åº“</h3>
<p><strong>èƒŒæ™¯</strong>ï¼š</p>
<ul>
<li>2000+åæ•™å¸ˆ</li>
<li>30ä¸‡ä»½æ•™æ¡ˆã€è¯¾ä»¶ã€è¯•å·</li>
<li>åŸæ£€ç´¢ç³»ç»Ÿæ»¡æ„åº¦ä»…41%</li>
</ul>
<p><strong>å®æ–½æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="language-python"># 1. æ–‡æ¡£é¢„å¤„ç†
from langchain.document_loaders import DirectoryLoader

loader = DirectoryLoader(
    &quot;æ•™ç ”èµ„æ–™/&quot;,
    glob=&quot;**/*.{pdf,docx,pptx}&quot;,
    show_progress=True
)

# 2. æ™ºèƒ½åˆ†å—ï¼ˆä¿ç•™PPTé¡µç ã€PDFç« èŠ‚ä¿¡æ¯ï¼‰
text_splitter = RecursiveCharacterTextSplitter(
    chunk_size=1200,
    chunk_overlap=300,
    add_start_index=True  # ä¿ç•™åŸå§‹ä½ç½®ä¿¡æ¯
)

# 3. å…ƒæ•°æ®å¢å¼º
for doc in documents:
    doc.metadata.update({
        &quot;subject&quot;: extract_subject(doc),    # AIè¯†åˆ«ç§‘ç›®
        &quot;grade&quot;: extract_grade(doc),        # å¹´çº§
        &quot;difficulty&quot;: analyze_difficulty(doc) # éš¾åº¦
    })

# 4. å¤šæ¨¡æ€æ”¯æŒï¼ˆPPTå›¾ç‰‡æå–ï¼‰
from langchain.document_loaders import UnstructuredPPTXLoader
ppt_loader = UnstructuredPPTXLoader(
    &quot;è¯¾ä»¶.pptx&quot;,
    mode=&quot;elements&quot;,  # æå–æ–‡å­—+å›¾ç‰‡
    strategy=&quot;hi_res&quot;  # é«˜ç²¾åº¦OCR
)
</code></pre>
<p><strong>å®æ–½æ•ˆæœ</strong>ï¼š</p>
<table>
<thead>
<tr>
<th>æŒ‡æ ‡</th>
<th>ä¼˜åŒ–å‰</th>
<th>ä¼˜åŒ–å</th>
<th>æå‡</th>
</tr>
</thead>
<tbody><tr>
<td>æ£€ç´¢å‡†ç¡®ç‡</td>
<td>58%</td>
<td>94%</td>
<td>+62%</td>
</tr>
<tr>
<td>å¹³å‡æ£€ç´¢æ—¶é—´</td>
<td>8åˆ†é’Ÿ</td>
<td>5ç§’</td>
<td>-99.9%</td>
</tr>
<tr>
<td>ç”¨æˆ·æ»¡æ„åº¦</td>
<td>41%</td>
<td>93%</td>
<td>+127%</td>
</tr>
<tr>
<td>çŸ¥è¯†å¤ç”¨ç‡</td>
<td>23%</td>
<td>78%</td>
<td>+239%</td>
</tr>
</tbody></table>
<p><strong>ROIåˆ†æ</strong>ï¼š</p>
<ul>
<li>å¼€å‘æˆæœ¬ï¼šÂ¥18ä¸‡</li>
<li>å¹´èŠ‚çœäººåŠ›æˆæœ¬ï¼šÂ¥65ä¸‡ï¼ˆæ•™å¸ˆæ£€ç´¢æ—¶é—´å‡å°‘ï¼‰</li>
<li>æŠ•èµ„å›æŠ¥å‘¨æœŸï¼š3.3ä¸ªæœˆ</li>
</ul>
<h2>å…«ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3>Q1: å‘é‡æ£€ç´¢å¬å›ç‡ä½æ€ä¹ˆåŠï¼Ÿ</h3>
<p><strong>åŸå› åˆ†æ</strong>ï¼š</p>
<ul>
<li>chunk_sizeè®¾ç½®ä¸åˆç†</li>
<li>queryå’Œæ–‡æ¡£çš„è¡¨è¿°å·®å¼‚å¤§</li>
<li>embeddingæ¨¡å‹ä¸é€‚åˆä¸šåŠ¡é¢†åŸŸ</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="language-python"># 1. Queryæ”¹å†™ï¼ˆæ‰©å±•ç”¨æˆ·é—®é¢˜ï¼‰
from langchain.chains import LLMChain

query_rewrite_prompt = &quot;&quot;&quot;
å°†ç”¨æˆ·çš„ç®€çŸ­é—®é¢˜æ‰©å±•ä¸ºæ›´è¯¦ç»†çš„è¡¨è¿°ï¼Œå¢åŠ æ£€ç´¢å¬å›ç‡ã€‚

åŸé—®é¢˜: {query}
æ‰©å±•å:
&quot;&quot;&quot;

rewriter = LLMChain(llm=llm, prompt=query_rewrite_prompt)
expanded_query = rewriter.run(query=&quot;å¹´å‡å‡ å¤©ï¼Ÿ&quot;)
# è¾“å‡º: &quot;è¯·é—®å…¬å¸å‘˜å·¥çš„å¹´å‡å¤©æ•°æ˜¯å¤šå°‘ï¼Ÿä¸åŒå·¥é¾„çš„å¹´å‡æ”¿ç­–æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&quot;
</code></pre>
<h3>Q2: å›ç­”ä¸å‡†ç¡®ï¼Œç»å¸¸å‡ºç°å¹»è§‰ï¼Ÿ</h3>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="language-python"># å¼ºåŒ–æç¤ºè¯çº¦æŸ
STRICT_PROMPT = &quot;&quot;&quot;
**é‡è¦çº¦æŸ**ï¼š
1. åªèƒ½ä½¿ç”¨æä¾›çš„æ–‡æ¡£ä¸­çš„ä¿¡æ¯
2. å¦‚æœæ–‡æ¡£ä¸­æ²¡æœ‰æ˜ç¡®ç­”æ¡ˆï¼Œå¿…é¡»å›å¤&quot;æœªæ‰¾åˆ°ç›¸å…³ä¿¡æ¯&quot;
3. ç¦æ­¢ä½¿ç”¨æ¨¡å‹çš„é¢„è®­ç»ƒçŸ¥è¯†
4. æ¯ä¸ªå…³é”®ä¿¡æ¯å¿…é¡»æ ‡æ³¨æ¥æº

å‚è€ƒæ–‡æ¡£: {context}
é—®é¢˜: {question}

å›ç­”æ ¼å¼ï¼š
[ç­”æ¡ˆå†…å®¹]

æ¥æºï¼š[æ–‡æ¡£åç§°ï¼Œç¬¬Xé¡µ/ç¬¬Xæ¡]
&quot;&quot;&quot;
</code></pre>
<h3>Q3: å“åº”é€Ÿåº¦æ…¢ï¼ˆ&gt;5ç§’ï¼‰ï¼Ÿ</h3>
<p><strong>ä¼˜åŒ–æ‰‹æ®µ</strong>ï¼š</p>
<pre><code class="language-python"># 1. å¼‚æ­¥å¤„ç†
import asyncio
from langchain.callbacks import AsyncCallbackHandler

async def async_qa(query):
    result = await qa_chain.acall({&quot;query&quot;: query})
    return result

# 2. æµå¼è¾“å‡ºï¼ˆæ”¹å–„ç”¨æˆ·ä½“éªŒï¼‰
from langchain.callbacks.streaming_stdout import StreamingStdOutCallbackHandler

llm = ChatOpenAI(
    streaming=True,
    callbacks=[StreamingStdOutCallbackHandler()]
)

# 3. é¢„æ£€ç´¢ç¼“å­˜çƒ­é—¨é—®é¢˜
POPULAR_QUERIES = [&quot;å¹´å‡&quot;, &quot;æŠ¥é”€&quot;, &quot;è€ƒå‹¤&quot;, ...]
for q in POPULAR_QUERIES:
    qa_chain({&quot;query&quot;: q})  # é¢„çƒ­ç¼“å­˜
</code></pre>
<h2>ä¹ã€æ€»ç»“ä¸æœ€ä½³å®è·µ</h2>
<h3>æ ¸å¿ƒè¦ç‚¹</h3>
<ol>
<li><p><strong>æ–‡æ¡£é¢„å¤„ç†æ˜¯å…³é”®</strong></p>
<ul>
<li>æ¸…ç†å™ªå£°ï¼ˆé¡µçœ‰é¡µè„šã€æ°´å°ï¼‰</li>
<li>ä¿ç•™ç»“æ„ä¿¡æ¯ï¼ˆæ ‡é¢˜ã€åˆ—è¡¨ã€è¡¨æ ¼ï¼‰</li>
<li>åˆç†åˆ†å—ï¼ˆé¿å…è¯­ä¹‰æ–­è£‚ï¼‰</li>
</ul>
</li>
<li><p><strong>é€‰æ‹©åˆé€‚çš„å‘é‡æ•°æ®åº“</strong></p>
<ul>
<li>å°é¡¹ç›®ï¼šChromaDB / Pinecone</li>
<li>å¤§é¡¹ç›®ï¼šMilvus / Weaviate</li>
<li>è€ƒè™‘æ•°æ®å®‰å…¨ã€æˆæœ¬ã€è¿ç»´éš¾åº¦</li>
</ul>
</li>
<li><p><strong>æ··åˆæ£€ç´¢ç­–ç•¥</strong></p>
<ul>
<li>å‘é‡æ£€ç´¢ï¼ˆè¯­ä¹‰ç†è§£ï¼‰</li>
<li>å…³é”®è¯æ£€ç´¢ï¼ˆç²¾ç¡®åŒ¹é…ï¼‰</li>
<li>é‡æ’åºï¼ˆæå‡Top 1ï¼‰</li>
</ul>
</li>
<li><p><strong>æç¤ºè¯å·¥ç¨‹</strong></p>
<ul>
<li>æ˜ç¡®è§’è‰²å®šä½</li>
<li>æ·»åŠ Few-Shotç¤ºä¾‹</li>
<li>å¼ºåŒ–çº¦æŸæ¡ä»¶</li>
</ul>
</li>
<li><p><strong>æŒç»­ä¼˜åŒ–</strong></p>
<ul>
<li>æ”¶é›†badcase</li>
<li>A/Bæµ‹è¯•ä¸åŒç­–ç•¥</li>
<li>ç›‘æ§æ ¸å¿ƒæŒ‡æ ‡</li>
</ul>
</li>
</ol>
<h3>æ¨èå·¥å…·é“¾</h3>
<pre><code>æ–‡æ¡£å¤„ç†: Unstructured + LangChain
å‘é‡æ¨¡å‹: OpenAI text-embedding-3-small (è‹±æ–‡)
         bge-large-zh-v1.5 (ä¸­æ–‡)
å‘é‡æ•°æ®åº“: Pinecone (æ‰˜ç®¡) / Milvus (è‡ªå»º)
LLM: GPT-4 (é«˜è´¨é‡) / GPT-3.5-turbo (æ€§ä»·æ¯”)
æ¡†æ¶: LangChain / LlamaIndex
</code></pre>
<hr>
<h2>å…³äºæˆ‘ä»¬</h2>
<p>æ™ºç†ç§‘æŠ€ä¸“æ³¨äºä¼ä¸šçº§AIåº”ç”¨å¼€å‘ï¼Œæˆ‘ä»¬å·²ä¸º20+ä¼ä¸šæˆåŠŸéƒ¨ç½²RAGçŸ¥è¯†åº“ç³»ç»Ÿã€‚</p>
<p><strong>æœåŠ¡å†…å®¹</strong>ï¼š</p>
<ul>
<li>éœ€æ±‚åˆ†æä¸æŠ€æœ¯é€‰å‹</li>
<li>POCå¿«é€ŸéªŒè¯ï¼ˆ2å‘¨ï¼‰</li>
<li>å®Œæ•´ç³»ç»Ÿå¼€å‘ä¸éƒ¨ç½²</li>
<li>æŒç»­ä¼˜åŒ–ä¸è¿ç»´æ”¯æŒ</li>
</ul>
<p><strong>è”ç³»æˆ‘ä»¬</strong>ï¼š</p>
<ul>
<li>ğŸ“§ é‚®ç®±: <a href="mailto:wuning@wanli.ai">wuning@wanli.ai</a></li>
<li>ğŸŒ å®˜ç½‘: <a href="https://zhili.wanli.ai">https://zhili.wanli.ai</a></li>
<li>ğŸ“ æŠ€æœ¯åšå®¢: <a href="https://zhili.wanli.ai/blog/">https://zhili.wanli.ai/blog/</a></li>
</ul>
<p>æ¬¢è¿äº¤æµæ¢è®¨ä¼ä¸šçŸ¥è¯†åº“å»ºè®¾ç»éªŒï¼</p>

            
<!-- ç›¸å…³æ¨è -->
<div class="mt-16 border-t border-gray-200 pt-12">
    <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center">
        <span class="w-1 h-6 bg-blue-600 mr-3"></span>
        ç›¸å…³æ¨è
    </h2>
    <div class="space-y-4">
        
    <a href="ai-cost-optimization-guide.html"
       class="block bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg hover:border-blue-400 transition-all group">
        <div class="flex items-start space-x-4">
            <div class="flex-shrink-0">
                <span class="inline-block px-3 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800">
                    AIåº”ç”¨å¼€å‘
                </span>
            </div>
            <div class="flex-1">
                <h3 class="text-lg font-semibold text-gray-900 group-hover:text-blue-600 mb-2">
                    AIåº”ç”¨æˆæœ¬ä¼˜åŒ–å®Œå…¨æŒ‡å—ï¼šä»æ¯æœˆ$5000é™è‡³$800çš„å®æˆ˜ç»éªŒ
                </h3>
                <p class="text-sm text-gray-600 line-clamp-2 mb-3">
                    åˆ†äº«çœŸå®é¡¹ç›®ä¸­å°†AIåº”ç”¨æˆæœ¬ä»æ¯æœˆ$5000é™è‡³$800çš„å®Œæ•´ä¼˜åŒ–ç­–ç•¥ï¼Œæ¶µç›–æ¨¡å‹é€‰å‹ã€Promptä¼˜åŒ–ã€ç¼“å­˜ç­–ç•¥ã€æœ¬åœ°åŒ–éƒ¨ç½²ç­‰å¤šä¸ªç»´åº¦
                </p>
                <div class="flex items-center text-xs text-gray-500 space-x-4">
                    <span>ğŸ“… 2024-12-31</span>
                    <span>â±ï¸ 20åˆ†é’Ÿ</span>
                </div>
            </div>
        </div>
    </a>
  

    <a href="prompt-engineering-complete-guide.html"
       class="block bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg hover:border-blue-400 transition-all group">
        <div class="flex items-start space-x-4">
            <div class="flex-shrink-0">
                <span class="inline-block px-3 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800">
                    AIåº”ç”¨å¼€å‘
                </span>
            </div>
            <div class="flex-1">
                <h3 class="text-lg font-semibold text-gray-900 group-hover:text-blue-600 mb-2">
                    æç¤ºè¯å·¥ç¨‹å®Œå…¨æŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š
                </h3>
                <p class="text-sm text-gray-600 line-clamp-2 mb-3">
                    ç³»ç»Ÿè®²è§£æç¤ºè¯å·¥ç¨‹çš„æ ¸å¿ƒåŸç†ã€è®¾è®¡æ¨¡å¼å’Œæœ€ä½³å®è·µï¼Œæ¶µç›–Zero-Shotã€Few-Shotã€Chain-of-Thoughtç­‰æŠ€æœ¯ï¼Œé™„å¤§é‡çœŸå®æ¡ˆä¾‹å’Œå¯å¤ç”¨æ¨¡æ¿
                </p>
                <div class="flex items-center text-xs text-gray-500 space-x-4">
                    <span>ğŸ“… 2024-12-30</span>
                    <span>â±ï¸ 18åˆ†é’Ÿ</span>
                </div>
            </div>
        </div>
    </a>
  

    <a href="enterprise-microservices-architecture.html"
       class="block bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg hover:border-blue-400 transition-all group">
        <div class="flex items-start space-x-4">
            <div class="flex-shrink-0">
                <span class="inline-block px-3 py-1 text-xs font-medium rounded-full bg-pink-100 text-pink-800">
                    æ¶æ„è®¾è®¡
                </span>
            </div>
            <div class="flex-1">
                <h3 class="text-lg font-semibold text-gray-900 group-hover:text-blue-600 mb-2">
                    ä¼ä¸šçº§å¾®æœåŠ¡æ¶æ„è®¾è®¡ä¸è½åœ°å®è·µ
                </h3>
                <p class="text-sm text-gray-600 line-clamp-2 mb-3">
                    ä»å•ä½“åº”ç”¨åˆ°å¾®æœåŠ¡çš„å®Œæ•´æ¼”è¿›è·¯å¾„ï¼Œæ¶µç›–æœåŠ¡æ‹†åˆ†ç­–ç•¥ã€APIç½‘å…³è®¾è®¡ã€åˆ†å¸ƒå¼äº‹åŠ¡å¤„ç†ã€æœåŠ¡æ²»ç†ç­‰æ ¸å¿ƒæŠ€æœ¯ï¼Œå¹¶åˆ†äº«çœŸå®é¡¹ç›®ä¸­çš„è¸©å‘ç»éªŒ
                </p>
                <div class="flex items-center text-xs text-gray-500 space-x-4">
                    <span>ğŸ“… 2024-12-29</span>
                    <span>â±ï¸ 15åˆ†é’Ÿ</span>
                </div>
            </div>
        </div>
    </a>
  
    </div>
</div>

</article>

            <!-- è”ç³»å¡ç‰‡ -->
            <div class="contact-card mt-12">
                <h3 class="text-xl font-bold text-white mb-3">ğŸ’¡ éœ€è¦æŠ€æœ¯æ”¯æŒï¼Ÿ</h3>
                <p class="text-white/90 mb-4">æ™ºç†ç§‘æŠ€ä¸“æ³¨äºä¼ä¸šçº§AIåº”ç”¨å¼€å‘ï¼Œæˆ‘ä»¬æä¾›ä»éœ€æ±‚åˆ†æã€æŠ€æœ¯é€‰å‹åˆ°å¼€å‘ä¸Šçº¿çš„å…¨æµç¨‹æœåŠ¡ã€‚</p>
                <div class="flex flex-col sm:flex-row gap-4">
                    <a href="mailto:wuning@wanli.ai" class="inline-flex items-center text-white hover:text-white/90">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                        wuning@wanli.ai
                    </a>
                    <a href="https://zhili.wanli.ai" class="inline-flex items-center text-white hover:text-white/90">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"></path>
                        </svg>
                        zhili.wanli.ai
                    </a>
                </div>
            </div>

            <!-- æ–‡ç« æ ‡ç­¾ -->
            <div class="mt-8 pt-8 border-t border-gray-200">
                <div class="flex flex-wrap gap-2">
                    <span class="tag">#RAG</span>
                    <span class="tag">#å‘é‡æ•°æ®åº“</span>
                    <span class="tag">#ä¼ä¸šçŸ¥è¯†åº“</span>
                    <span class="tag">#LangChain</span>
                    <span class="tag">#AIåº”ç”¨</span>
                </div>
            </div>

            <!-- è¿”å›åšå®¢åˆ—è¡¨ -->
            <div class="text-center mt-12">
                <a href="/blog/" class="inline-flex items-center px-6 py-3 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition text-gray-700 font-medium">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                    </svg>
                    è¿”å›åšå®¢åˆ—è¡¨
                </a>
            </div>

        </div>
    </main>

    <!-- é¡µè„š -->
    <footer class="bg-white border-t border-gray-200 mt-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="text-center text-gray-500 text-sm">
                <p>&copy; 2024 åŒ—äº¬æ™ºç†ç§‘æŠ€æœ‰é™å…¬å¸ |
                    <a href="/" class="hover:text-blue-600">è¿”å›é¦–é¡µ</a> |
                    <a href="mailto:wuning@wanli.ai" class="hover:text-blue-600">è”ç³»æˆ‘ä»¬</a>
                </p>
            </div>
        </div>
    </footer>

    <!-- ç»“æ„åŒ–æ•°æ® - Article -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "headline": "RAGæŠ€æœ¯åœ¨ä¼ä¸šçŸ¥è¯†åº“ä¸­çš„åº”ç”¨å®è·µ",
      "description": "æ·±å…¥è§£æRAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŠ€æœ¯å¦‚ä½•è§£å†³ä¼ä¸šçŸ¥è¯†åº“åº”ç”¨ç—›ç‚¹ï¼ŒåŒ…å«å®Œæ•´çš„æŠ€æœ¯æ¶æ„ã€å‘é‡æ•°æ®åº“é€‰å‹ã€æ£€ç´¢ç­–ç•¥ä¼˜åŒ–åŠçœŸå®æ¡ˆä¾‹åˆ†äº«",
      "image": "https://zhili.wanli.ai/og-image.jpg",
      "datePublished": "2024-12-28T10:00:00+08:00",
      "dateModified": "2024-12-28T10:00:00+08:00",
      "author": {
        "@type": "Organization",
        "name": "æ™ºç†ç§‘æŠ€æŠ€æœ¯å›¢é˜Ÿ"
      },
      "publisher": {
        "@type": "Organization",
        "name": "åŒ—äº¬æ™ºç†ç§‘æŠ€æœ‰é™å…¬å¸",
        "logo": {
          "@type": "ImageObject",
          "url": "https://zhili.wanli.ai/og-image.jpg"
        }
      },
      "articleSection": "AIåº”ç”¨å¼€å‘",
      "keywords": ["RAG","å‘é‡æ•°æ®åº“","ä¼ä¸šçŸ¥è¯†åº“","LangChain","AIåº”ç”¨"],
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://zhili.wanli.ai/blog/posts/rag-enterprise-knowledge-base.html"
      }
    }
    </script>


<!-- ç¤¾äº¤åˆ†äº«æŒ‰é’® -->
<div class="fixed right-8 top-1/2 transform -translate-y-1/2 z-50 space-y-3" id="shareButtons">
    <!-- åˆ†äº«åˆ°å¾®åš -->
    <button onclick="shareToWeibo()"
            class="w-12 h-12 bg-orange-500 hover:bg-orange-600 text-white rounded-full shadow-lg flex items-center justify-center transition-all hover:scale-110"
            title="åˆ†äº«åˆ°å¾®åš">
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M9.6 12c-.4 0-.7.2-.8.5-.1.4 0 .7.3.9.4.2.8.2 1.1-.1.2-.3.2-.7 0-1-.2-.2-.4-.3-.6-.3zm2.7-1.1c-.2 0-.3.1-.4.2 0 .2 0 .3.2.4.2.1.3.1.5 0 .1-.1.1-.3 0-.4-.1-.1-.2-.2-.3-.2zm5.4 7c-1.6 1.2-3.8 1.5-5.7 1.1-1.9-.4-3.6-1.5-4.6-3.1-1-1.6-1.2-3.7-.5-5.5.7-1.8 2.3-3.2 4.2-3.7 1.9-.5 4-.1 5.5 1.1 1.6 1.2 2.4 3.1 2.2 5-.2 1.9-1.2 3.7-2.6 4.8l.5.3zm-5.6-7.6c-2.6-.3-4.9 1.3-5.3 3.5-.4 2.2 1.4 4.3 4 4.7 2.6.4 5-1.1 5.4-3.4.4-2.2-1.4-4.4-4.1-4.8z"/>
        </svg>
    </button>

    <!-- å¤åˆ¶é“¾æ¥ -->
    <button onclick="copyLink()"
            class="w-12 h-12 bg-blue-500 hover:bg-blue-600 text-white rounded-full shadow-lg flex items-center justify-center transition-all hover:scale-110"
            title="å¤åˆ¶é“¾æ¥">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
        </svg>
    </button>

    <!-- å¾®ä¿¡åˆ†äº«ï¼ˆæ˜¾ç¤ºäºŒç»´ç ï¼‰ -->
    <button onclick="shareToWechat()"
            class="w-12 h-12 bg-green-500 hover:bg-green-600 text-white rounded-full shadow-lg flex items-center justify-center transition-all hover:scale-110"
            title="åˆ†äº«åˆ°å¾®ä¿¡">
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M8.5 12c-.8 0-1.5.7-1.5 1.5s.7 1.5 1.5 1.5 1.5-.7 1.5-1.5-.7-1.5-1.5-1.5zm7 0c-.8 0-1.5.7-1.5 1.5s.7 1.5 1.5 1.5 1.5-.7 1.5-1.5-.7-1.5-1.5-1.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-1.21 0-2.34-.27-3.37-.75-.7.43-2.26 1.18-4.08 1.45.58-.85 1.12-2.15 1.35-3.22C4.42 15.78 3.5 14 3.5 12c0-4.14 3.36-7.5 7.5-7.5s7.5 3.36 7.5 7.5-3.36 7.5-7.5 7.5z"/>
        </svg>
    </button>
</div>

<!-- å¾®ä¿¡åˆ†äº«äºŒç»´ç å¼¹çª— -->
<div id="wechatModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
    <div class="bg-white rounded-lg p-8 max-w-sm mx-4">
        <div class="text-center mb-4">
            <h3 class="text-xl font-bold text-gray-900">å¾®ä¿¡æ‰«ç åˆ†äº«</h3>
            <p class="text-sm text-gray-600 mt-2">è¯·ä½¿ç”¨å¾®ä¿¡æ‰«æäºŒç»´ç </p>
        </div>
        <div id="qrcodeContainer" class="flex justify-center mb-4"></div>
        <button onclick="closeWechatModal()"
                class="w-full bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded">
            å…³é—­
        </button>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
<script>
// åˆ†äº«åˆ°å¾®åš
function shareToWeibo() {
    const url = window.location.href;
    const title = document.querySelector('meta[property="og:title"]').content;
    const pic = document.querySelector('meta[property="og:image"]').content;

    const weiboUrl = `https://service.weibo.com/share/share.php?url=${encodeURIComponent(url)}&title=${encodeURIComponent(title)}&pic=${encodeURIComponent(pic)}`;
    window.open(weiboUrl, '_blank', 'width=600,height=400');
}

// å¤åˆ¶é“¾æ¥
function copyLink() {
    const url = window.location.href;
    navigator.clipboard.writeText(url).then(() => {
        showToast('âœ… é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
    }).catch(() => {
        // é™çº§æ–¹æ¡ˆ
        const input = document.createElement('input');
        input.value = url;
        document.body.appendChild(input);
        input.select();
        document.execCommand('copy');
        document.body.removeChild(input);
        showToast('âœ… é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
    });
}

// åˆ†äº«åˆ°å¾®ä¿¡ï¼ˆæ˜¾ç¤ºäºŒç»´ç ï¼‰
let qrcodeGenerated = false;
function shareToWechat() {
    const modal = document.getElementById('wechatModal');
    modal.classList.remove('hidden');
    modal.classList.add('flex');

    if (!qrcodeGenerated) {
        const container = document.getElementById('qrcodeContainer');
        container.innerHTML = ''; // æ¸…ç©º
        new QRCode(container, {
            text: window.location.href,
            width: 256,
            height: 256
        });
        qrcodeGenerated = true;
    }
}

function closeWechatModal() {
    const modal = document.getElementById('wechatModal');
    modal.classList.add('hidden');
    modal.classList.remove('flex');
}

// Toastæç¤º
function showToast(message) {
    const toast = document.createElement('div');
    toast.className = 'fixed top-4 right-4 bg-gray-900 text-white px-6 py-3 rounded-lg shadow-lg z-50';
    toast.textContent = message;
    document.body.appendChild(toast);

    setTimeout(() => {
        toast.style.opacity = '0';
        toast.style.transition = 'opacity 0.3s';
        setTimeout(() => document.body.removeChild(toast), 300);
    }, 2000);
}

// æ»šåŠ¨æ—¶éšè—/æ˜¾ç¤ºåˆ†äº«æŒ‰é’®
let lastScroll = 0;
window.addEventListener('scroll', () => {
    const currentScroll = window.pageYOffset;
    const buttons = document.getElementById('shareButtons');

    if (currentScroll > 200) {
        if (currentScroll > lastScroll) {
            buttons.style.opacity = '0.3';
        } else {
            buttons.style.opacity = '1';
        }
    } else {
        buttons.style.opacity = '1';
    }

    lastScroll = currentScroll;
});
</script>

<!-- ç›¸å…³æ–‡ç« æ¨è -->
<section class="max-w-4xl mx-auto px-4 py-12 border-t border-gray-200">
    <h3 class="text-2xl font-bold text-gray-900 mb-6">ğŸ“š ç›¸å…³æ–‡ç« æ¨è</h3>
    <div class="grid md:grid-cols-2 gap-6">
        <a href="/blog/posts/prompt-engineering-complete-guide.html" class="block p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition">
            <h4 class="font-semibold text-gray-900 mb-2">æç¤ºè¯å·¥ç¨‹å®Œå…¨æŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š</h4>
            <p class="text-sm text-gray-600">ç³»ç»Ÿè®²è§£æç¤ºè¯å·¥ç¨‹çš„æ ¸å¿ƒåŸç†ã€è®¾è®¡æ¨¡å¼å’Œæœ€ä½³å®è·µ</p>
        </a>
        <a href="/blog/posts/build-ai-customer-service-with-gpt4.html" class="block p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition">
            <h4 class="font-semibold text-gray-900 mb-2">å¦‚ä½•ä½¿ç”¨GPT-4æ„å»ºæ™ºèƒ½å®¢æœç³»ç»Ÿ</h4>
            <p class="text-sm text-gray-600">æ·±å…¥æ¢è®¨GPT-4 APIæ„å»ºé«˜æ•ˆæ™ºèƒ½å®¢æœç³»ç»Ÿçš„æ ¸å¿ƒæŠ€æœ¯</p>
        </a>
    </div>
</section>

</body>
</html>