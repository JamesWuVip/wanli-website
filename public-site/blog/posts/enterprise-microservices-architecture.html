<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¼ä¸šçº§å¾®æœåŠ¡æ¶æ„è®¾è®¡ä¸è½åœ°å®è·µ - æ™ºç†ç§‘æŠ€æŠ€æœ¯åšå®¢</title>
    <meta name="description" content="ä»å•ä½“åº”ç”¨åˆ°å¾®æœåŠ¡çš„å®Œæ•´æ¼”è¿›è·¯å¾„ï¼Œæ¶µç›–æœåŠ¡æ‹†åˆ†ç­–ç•¥ã€APIç½‘å…³è®¾è®¡ã€åˆ†å¸ƒå¼äº‹åŠ¡å¤„ç†ã€æœåŠ¡æ²»ç†ç­‰æ ¸å¿ƒæŠ€æœ¯ï¼Œå¹¶åˆ†äº«çœŸå®é¡¹ç›®ä¸­çš„è¸©å‘ç»éªŒ">
    <meta name="keywords" content="å¾®æœåŠ¡,Spring Cloud,åˆ†å¸ƒå¼ç³»ç»Ÿ,æ¶æ„è®¾è®¡,æœåŠ¡æ²»ç†">
    <meta name="author" content="æ™ºç†ç§‘æŠ€æŠ€æœ¯å›¢é˜Ÿ">
    <link rel="canonical" href="https://zhili.wanli.ai/blog/posts/enterprise-microservices-architecture.html">

    <!-- Open Graph -->
    <meta property="og:title" content="ä¼ä¸šçº§å¾®æœåŠ¡æ¶æ„è®¾è®¡ä¸è½åœ°å®è·µ">
    <meta property="og:description" content="ä»å•ä½“åº”ç”¨åˆ°å¾®æœåŠ¡çš„å®Œæ•´æ¼”è¿›è·¯å¾„ï¼Œæ¶µç›–æœåŠ¡æ‹†åˆ†ç­–ç•¥ã€APIç½‘å…³è®¾è®¡ã€åˆ†å¸ƒå¼äº‹åŠ¡å¤„ç†ã€æœåŠ¡æ²»ç†ç­‰æ ¸å¿ƒæŠ€æœ¯ï¼Œå¹¶åˆ†äº«çœŸå®é¡¹ç›®ä¸­çš„è¸©å‘ç»éªŒ">
    <meta property="og:image" content="https://zhili.wanli.ai/og-image.jpg">
    <meta property="og:url" content="https://zhili.wanli.ai/blog/posts/enterprise-microservices-architecture.html">
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="2024-12-29T10:00:00+08:00">
    <meta property="article:author" content="æ™ºç†ç§‘æŠ€æŠ€æœ¯å›¢é˜Ÿ">
    <meta property="article:section" content="æ¶æ„è®¾è®¡">
    <meta property="article:tag" content="å¾®æœåŠ¡">
    <meta property="article:tag" content="Spring Cloud">
    <meta property="article:tag" content="åˆ†å¸ƒå¼ç³»ç»Ÿ">
    <meta property="article:tag" content="æ¶æ„è®¾è®¡">
    <meta property="article:tag" content="æœåŠ¡æ²»ç†">

    <!-- BreadcrumbList ç»“æ„åŒ–æ•°æ® -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {"@type": "ListItem", "position": 1, "name": "é¦–é¡µ", "item": "https://zhili.wanli.ai"},
        {"@type": "ListItem", "position": 2, "name": "æŠ€æœ¯åšå®¢", "item": "https://zhili.wanli.ai/blog/"},
        {"@type": "ListItem", "position": 3, "name": "ä¼ä¸šçº§å¾®æœåŠ¡æ¶æ„è®¾è®¡ä¸è½åœ°å®è·µ"}
      ]
    }
    </script>

    <!-- Article ç»“æ„åŒ–æ•°æ® -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "headline": "ä¼ä¸šçº§å¾®æœåŠ¡æ¶æ„è®¾è®¡ä¸è½åœ°å®è·µ",
      "description": "ä»å•ä½“åº”ç”¨åˆ°å¾®æœåŠ¡çš„å®Œæ•´æ¼”è¿›è·¯å¾„ï¼Œæ¶µç›–æœåŠ¡æ‹†åˆ†ç­–ç•¥ã€APIç½‘å…³è®¾è®¡ã€åˆ†å¸ƒå¼äº‹åŠ¡å¤„ç†ã€æœåŠ¡æ²»ç†ç­‰æ ¸å¿ƒæŠ€æœ¯ï¼Œå¹¶åˆ†äº«çœŸå®é¡¹ç›®ä¸­çš„è¸©å‘ç»éªŒ",
      "image": "https://zhili.wanli.ai/og-image.jpg",
      "author": {
        "@type": "Organization",
        "name": "æ™ºç†ç§‘æŠ€æŠ€æœ¯å›¢é˜Ÿ",
        "url": "https://zhili.wanli.ai"
      },
      "publisher": {
        "@type": "Organization",
        "name": "åŒ—äº¬æ™ºç†ç§‘æŠ€æœ‰é™å…¬å¸",
        "logo": {
          "@type": "ImageObject",
          "url": "https://zhili.wanli.ai/logo.png"
        }
      },
      "datePublished": "2024-12-29",
      "dateModified": "2024-12-29",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://zhili.wanli.ai/blog/posts/enterprise-microservices-architecture.html"
      }
    }
    </script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- ç™¾åº¦ç»Ÿè®¡ -->
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?899d2895125d00f40d4e27a4e9490d14";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HYYQPK3KW2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-HYYQPK3KW2');
    </script>

    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Microsoft YaHei";
        }

        .prose {
            max-width: 800px;
            margin: 0 auto;
            color: #374151;
        }

        .prose h2 {
            font-size: 1.875rem;
            font-weight: 700;
            margin-top: 3rem;
            margin-bottom: 1rem;
            color: #111827;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #e5e7eb;
        }

        .prose h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-top: 2rem;
            margin-bottom: 0.75rem;
            color: #1f2937;
        }

        .prose h4 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
            color: #374151;
        }

        .prose p {
            margin-bottom: 1.25rem;
            line-height: 1.75;
            color: #4b5563;
        }

        .prose ul, .prose ol {
            margin-bottom: 1.25rem;
            padding-left: 1.5rem;
        }

        .prose li {
            margin-bottom: 0.5rem;
            color: #4b5563;
            line-height: 1.75;
        }

        .prose code {
            background: #f3f4f6;
            padding: 0.2rem 0.4rem;
            border-radius: 0.25rem;
            font-family: 'SF Mono', 'Monaco', 'Cascadia Code', 'Courier New', monospace;
            color: #dc2626;
            font-size: 0.875em;
        }

        .prose pre {
            background: #1f2937;
            padding: 1.5rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            margin-bottom: 1.5rem;
            border: 1px solid #374151;
        }

        .prose pre code {
            background: transparent;
            padding: 0;
            color: #e5e7eb;
            font-size: 0.875rem;
        }

        .prose a {
            color: #2563eb;
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: border-color 0.2s;
        }

        .prose a:hover {
            border-bottom-color: #2563eb;
        }

        .prose strong {
            font-weight: 600;
            color: #111827;
        }

        .prose blockquote {
            border-left: 4px solid #2563eb;
            padding-left: 1.5rem;
            margin: 1.5rem 0;
            color: #6b7280;
            font-style: italic;
        }

        .prose table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }

        .prose th {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            padding: 0.75rem;
            text-align: left;
            font-weight: 600;
            color: #111827;
        }

        .prose td {
            border: 1px solid #e5e7eb;
            padding: 0.75rem;
            color: #4b5563;
        }

        .prose tr:nth-child(even) {
            background: #f9fafb;
        }

        .prose img {
            max-width: 100%;
            border-radius: 0.5rem;
            margin: 1.5rem 0;
        }

        .category-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .category-ai { background: #dbeafe; color: #1e40af; }
        .category-architecture { background: #fce7f3; color: #9f1239; }
        .category-system { background: #dcfce7; color: #166534; }
        .category-case { background: #fef3c7; color: #92400e; }

        .tag {
            display: inline-block;
            padding: 4px 12px;
            background: #f3f4f6;
            color: #6b7280;
            border-radius: 4px;
            font-size: 0.875rem;
            margin-right: 8px;
            margin-bottom: 8px;
        }

        .contact-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 0.75rem;
            padding: 2rem;
            margin: 2rem 0;
        }

        .nav-link {
            position: relative;
            padding-bottom: 4px;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: #2563eb;
            transition: width 0.3s;
        }

        .nav-link:hover::after {
            width: 100%;
        }
    </style>

    <!-- JSON-LD ç»“æ„åŒ–æ•°æ® -->
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "TechArticle",
  "headline": "ä¼ä¸šçº§å¾®æœåŠ¡æ¶æ„è®¾è®¡ä¸è½åœ°å®è·µ",
  "description": "ä»å•ä½“åº”ç”¨åˆ°å¾®æœåŠ¡çš„å®Œæ•´æ¼”è¿›è·¯å¾„ï¼Œæ¶µç›–æœåŠ¡æ‹†åˆ†ç­–ç•¥ã€APIç½‘å…³è®¾è®¡ã€åˆ†å¸ƒå¼äº‹åŠ¡å¤„ç†ã€æœåŠ¡æ²»ç†ç­‰æ ¸å¿ƒæŠ€æœ¯ï¼Œå¹¶åˆ†äº«çœŸå®é¡¹ç›®ä¸­çš„è¸©å‘ç»éªŒ",
  "image": "https://zhili.wanli.ai/blog-covers/enterprise-microservices-architecture.jpg",
  "datePublished": "2024-12-29",
  "dateModified": "2024-12-29",
  "author": {
    "@type": "Organization",
    "name": "æ™ºç†ç§‘æŠ€",
    "url": "https://zhili.wanli.ai",
    "logo": {
      "@type": "ImageObject",
      "url": "https://zhili.wanli.ai/og-image.jpg"
    }
  },
  "publisher": {
    "@type": "Organization",
    "name": "æ™ºç†ç§‘æŠ€",
    "url": "https://zhili.wanli.ai",
    "logo": {
      "@type": "ImageObject",
      "url": "https://zhili.wanli.ai/og-image.jpg"
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://zhili.wanli.ai/blog/posts/enterprise-microservices-architecture.html"
  },
  "keywords": "å¾®æœåŠ¡, Spring Cloud, åˆ†å¸ƒå¼ç³»ç»Ÿ, æ¶æ„è®¾è®¡, æœåŠ¡æ²»ç†",
  "articleSection": "æ¶æ„è®¾è®¡",
  "proficiencyLevel": "Advanced",
  "dependencies": "LangChain, OpenAI, Python",
  "about": {
    "@type": "Thing",
    "name": "æ¶æ„è®¾è®¡"
  }
}
    </script>
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "é¦–é¡µ",
      "item": "https://zhili.wanli.ai"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "æŠ€æœ¯åšå®¢",
      "item": "https://zhili.wanli.ai/blog/"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "ä¼ä¸šçº§å¾®æœåŠ¡æ¶æ„è®¾è®¡ä¸è½åœ°å®è·µ",
      "item": "https://zhili.wanli.ai/blog/posts/enterprise-microservices-architecture.html"
    }
  ]
}
    </script>
</head>
<body class="bg-gray-50 text-gray-900">

    <!-- å¯¼èˆªæ  -->
    <nav class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <a href="/" class="text-xl font-bold text-gray-900 hover:text-blue-600 transition">
                    æ™ºç†ç§‘æŠ€
                </a>
                <div class="flex gap-8">
                    <a href="/" class="nav-link text-gray-600 hover:text-gray-900 transition">é¦–é¡µ</a>
                    <a href="/blog/" class="nav-link text-blue-600 font-medium">åšå®¢</a>
                    <a href="/#contact" class="nav-link text-gray-600 hover:text-gray-900 transition">è”ç³»æˆ‘ä»¬</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- æ–‡ç« å†…å®¹ -->
    <main class="py-12">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">

            <!-- æ–‡ç« å¤´éƒ¨ -->
            <header class="mb-12">
                <div class="mb-6">
                    <a href="/blog/" class="inline-flex items-center text-gray-600 hover:text-gray-900 text-sm">
                        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                        </svg>
                        è¿”å›åšå®¢åˆ—è¡¨
                    </a>
                </div>
                <div class="flex items-center gap-3 mb-4">
                    <span class="category-badge category-architecture">æ¶æ„è®¾è®¡</span>
                    <span class="text-gray-500 text-sm">2024å¹´12æœˆ29æ—¥</span>
                    <span class="text-gray-400">Â·</span>
                    <span class="text-gray-500 text-sm flex items-center">
                        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        15åˆ†é’Ÿ
                    </span>
                </div>
                <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4 leading-tight">
                    ä¼ä¸šçº§å¾®æœåŠ¡æ¶æ„è®¾è®¡ä¸è½åœ°å®è·µ
                </h1>
                <p class="text-xl text-gray-600 leading-relaxed">
                    ä»å•ä½“åº”ç”¨åˆ°å¾®æœåŠ¡çš„å®Œæ•´æ¼”è¿›è·¯å¾„ï¼Œæ¶µç›–æœåŠ¡æ‹†åˆ†ç­–ç•¥ã€APIç½‘å…³è®¾è®¡ã€åˆ†å¸ƒå¼äº‹åŠ¡å¤„ç†ã€æœåŠ¡æ²»ç†ç­‰æ ¸å¿ƒæŠ€æœ¯ï¼Œå¹¶åˆ†äº«çœŸå®é¡¹ç›®ä¸­çš„è¸©å‘ç»éªŒ
                </p>
            </header>

            <!-- æ–‡ç« ä¸»ä½“ -->
            <article class="prose prose-lg">
                <h2>ä¸€ã€ä¸ºä»€ä¹ˆè¦åšå¾®æœåŠ¡æ”¹é€ ï¼Ÿ</h2>
<h3>1.1 å•ä½“åº”ç”¨çš„å›°å¢ƒ</h3>
<p>æˆ‘ä»¬æ›¾ä¸ºæŸæ•™è‚²ä¼ä¸šç»´æŠ¤ä¸€ä¸ª10ä¸‡è¡Œä»£ç çš„å•ä½“åº”ç”¨ï¼Œç—›ç‚¹å¦‚ä¸‹ï¼š</p>
<p><strong>æŠ€æœ¯å€ºåŠ¡</strong>ï¼š</p>
<ul>
<li>å¯åŠ¨æ—¶é—´ï¼š<strong>8åˆ†é’Ÿ</strong>ï¼ˆå¼€å‘æ•ˆç‡æä½ï¼‰</li>
<li>éƒ¨ç½²é¢‘ç‡ï¼š<strong>æ¯æœˆ1æ¬¡</strong>ï¼ˆæ€•å‡ºé—®é¢˜ä¸æ•¢é¢‘ç¹å‘å¸ƒï¼‰</li>
<li>å›¢é˜Ÿåä½œï¼š<strong>15äººåŒæ—¶ä¿®æ”¹ä»£ç ï¼Œå†²çªé¢‘ç¹</strong></li>
<li>æŠ€æœ¯æ ˆé”å®šï¼š<strong>Spring 3.xæ— æ³•å‡çº§</strong>ï¼ˆç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ï¼‰</li>
</ul>
<p><strong>ä¸šåŠ¡é—®é¢˜</strong>ï¼š</p>
<ul>
<li>è¥é”€æ´»åŠ¨é«˜å³°æœŸï¼Œ<strong>æ•´ä¸ªç³»ç»Ÿå®•æœº</strong>ï¼ˆæ— æ³•éš”ç¦»æ•…éšœï¼‰</li>
<li>æ–°å¢æ”¯ä»˜æ¸ é“éœ€è¦<strong>2å‘¨</strong>ï¼ˆä»£ç è€¦åˆä¸¥é‡ï¼‰</li>
<li>æ•°æ®åº“å•ç‚¹ç“¶é¢ˆï¼š<strong>QPSä¸Šé™3000</strong></li>
</ul>
<h3>1.2 å¾®æœåŠ¡æ”¹é€ åçš„æ•ˆæœ</h3>
<p>ç»è¿‡6ä¸ªæœˆçš„æ¸è¿›å¼æ”¹é€ ï¼š</p>
<table>
<thead>
<tr>
<th>æŒ‡æ ‡</th>
<th>æ”¹é€ å‰</th>
<th>æ”¹é€ å</th>
<th>æå‡</th>
</tr>
</thead>
<tbody><tr>
<td>éƒ¨ç½²é¢‘ç‡</td>
<td>1æ¬¡/æœˆ</td>
<td>20æ¬¡/å¤©</td>
<td>600x</td>
</tr>
<tr>
<td>å¯åŠ¨æ—¶é—´</td>
<td>8åˆ†é’Ÿ</td>
<td>30ç§’</td>
<td>16x</td>
</tr>
<tr>
<td>æ•…éšœéš”ç¦»</td>
<td>å…¨ç«™å®•æœº</td>
<td>å•æœåŠ¡é™çº§</td>
<td>âœ…</td>
</tr>
<tr>
<td>ç³»ç»ŸQPS</td>
<td>3,000</td>
<td>50,000</td>
<td>17x</td>
</tr>
<tr>
<td>å›¢é˜Ÿåä½œ</td>
<td>ä»£ç å†²çªé¢‘ç¹</td>
<td>ç‹¬ç«‹å¼€å‘</td>
<td>âœ…</td>
</tr>
</tbody></table>
<p><strong>ROI</strong>ï¼š</p>
<ul>
<li>å¼€å‘æ•ˆç‡æå‡40%</li>
<li>æœåŠ¡å™¨æˆæœ¬é™ä½30%ï¼ˆæŒ‰éœ€æ‰©å®¹ï¼‰</li>
<li>æ•…éšœç‡ä¸‹é™80%</li>
</ul>
<h2>äºŒã€æœåŠ¡æ‹†åˆ†ç­–ç•¥</h2>
<h3>2.1 æ‹†åˆ†åŸåˆ™</h3>
<p><strong>DDDï¼ˆé¢†åŸŸé©±åŠ¨è®¾è®¡ï¼‰æ‹†åˆ†æ³•</strong>ï¼š</p>
<pre><code>å•ä½“åº”ç”¨ï¼ˆåŸï¼‰:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”¨æˆ· + å•†å“ + è®¢å• + æ”¯ä»˜ + ç‰©æµ  â”‚
â”‚         (10ä¸‡è¡Œä»£ç )               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¾®æœåŠ¡æ¶æ„ï¼ˆæ”¹é€ åï¼‰:
â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ· â”‚  â”‚ å•†å“ â”‚  â”‚ è®¢å• â”‚  â”‚ æ”¯ä»˜ â”‚  â”‚ ç‰©æµ â”‚
â”‚ æœåŠ¡ â”‚  â”‚ æœåŠ¡ â”‚  â”‚ æœåŠ¡ â”‚  â”‚ æœåŠ¡ â”‚  â”‚ æœåŠ¡ â”‚
â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>æ‹†åˆ†ç»´åº¦</strong>ï¼š</p>
<ol>
<li><p><strong>æŒ‰ä¸šåŠ¡èƒ½åŠ›æ‹†åˆ†</strong>ï¼ˆæ¨èï¼‰</p>
<ul>
<li>âœ… ç”¨æˆ·æœåŠ¡ï¼šæ³¨å†Œã€ç™»å½•ã€ä¸ªäººä¿¡æ¯</li>
<li>âœ… å•†å“æœåŠ¡ï¼šå•†å“ç®¡ç†ã€åº“å­˜ã€åˆ†ç±»</li>
<li>âœ… è®¢å•æœåŠ¡ï¼šä¸‹å•ã€è®¢å•æŸ¥è¯¢ã€è®¢å•çŠ¶æ€æµè½¬</li>
</ul>
</li>
<li><p><strong>æŒ‰æŠ€æœ¯ç‰¹æ€§æ‹†åˆ†</strong></p>
<ul>
<li>è®¡ç®—å¯†é›†å‹æœåŠ¡ï¼ˆå¦‚AIæ¨èï¼‰ï¼šä½¿ç”¨GPUæœåŠ¡å™¨</li>
<li>IOå¯†é›†å‹æœåŠ¡ï¼ˆå¦‚æ–‡ä»¶ä¸Šä¼ ï¼‰ï¼šä½¿ç”¨é«˜å¸¦å®½æœåŠ¡å™¨</li>
</ul>
</li>
<li><p><strong>æŒ‰å˜åŒ–é¢‘ç‡æ‹†åˆ†</strong></p>
<ul>
<li>è¥é”€æ´»åŠ¨æœåŠ¡ï¼ˆé«˜é¢‘å˜åŒ–ï¼‰ï¼šç‹¬ç«‹éƒ¨ç½²</li>
<li>åŸºç¡€æ•°æ®æœåŠ¡ï¼ˆä½é¢‘å˜åŒ–ï¼‰ï¼šç¨³å®šè¿è¡Œ</li>
</ul>
</li>
</ol>
<h3>2.2 å®æˆ˜æ¡ˆä¾‹ï¼šè®¢å•æœåŠ¡æ‹†åˆ†</h3>
<p><strong>æ‹†åˆ†å‰</strong>ï¼ˆå•ä½“åº”ç”¨ä¸­çš„è®¢å•æ¨¡å—ï¼‰ï¼š</p>
<pre><code class="language-java">// è®¢å•åˆ›å»ºæµç¨‹ï¼ˆç´§è€¦åˆï¼‰
public class OrderController {
    @Autowired
    private UserDao userDao;
    @Autowired
    private ProductDao productDao;
    @Autowired
    private OrderDao orderDao;
    @Autowired
    private PaymentService paymentService;
    @Autowired
    private LogisticsService logisticsService;

    public Order createOrder(OrderRequest req) {
        // 1. æ ¡éªŒç”¨æˆ·
        User user = userDao.findById(req.getUserId());

        // 2. æ ¡éªŒå•†å“åº“å­˜
        Product product = productDao.findById(req.getProductId());
        if (product.getStock() &lt; req.getQuantity()) {
            throw new RuntimeException(&quot;åº“å­˜ä¸è¶³&quot;);
        }

        // 3. åˆ›å»ºè®¢å•
        Order order = new Order();
        order.setUserId(req.getUserId());
        order.setProductId(req.getProductId());
        orderDao.save(order);

        // 4. æ‰£å‡åº“å­˜
        product.setStock(product.getStock() - req.getQuantity());
        productDao.update(product);

        // 5. è°ƒç”¨æ”¯ä»˜
        paymentService.createPayment(order);

        // 6. åˆ›å»ºç‰©æµå•
        logisticsService.createShipment(order);

        return order;
    }
}
</code></pre>
<p><strong>é—®é¢˜</strong>ï¼š</p>
<ul>
<li>âŒ ç›´æ¥æ“ä½œå…¶ä»–æ¨¡å—çš„æ•°æ®åº“ï¼ˆuserDaoã€productDaoï¼‰</li>
<li>âŒ åŒæ­¥è°ƒç”¨å¤šä¸ªæœåŠ¡ï¼ˆpaymentServiceã€logisticsServiceï¼‰</li>
<li>âŒ ç¼ºä¹äº‹åŠ¡ä¸€è‡´æ€§ä¿éšœ</li>
</ul>
<p><strong>æ‹†åˆ†å</strong>ï¼ˆå¾®æœåŠ¡æ¶æ„ï¼‰ï¼š</p>
<pre><code class="language-java">// è®¢å•æœåŠ¡ï¼ˆç‹¬ç«‹å¾®æœåŠ¡ï¼‰
@Service
public class OrderService {
    @Autowired
    private OrderRepository orderRepository;

    @Autowired
    private UserServiceClient userClient;      // Feignå®¢æˆ·ç«¯

    @Autowired
    private ProductServiceClient productClient;

    @Autowired
    private RabbitTemplate rabbitTemplate;     // æ¶ˆæ¯é˜Ÿåˆ—

    @Transactional
    public OrderDTO createOrder(CreateOrderRequest req) {
        // 1. RPCè°ƒç”¨ç”¨æˆ·æœåŠ¡æ ¡éªŒç”¨æˆ·
        UserDTO user = userClient.getUserById(req.getUserId());
        if (user == null) {
            throw new BusinessException(&quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;);
        }

        // 2. RPCè°ƒç”¨å•†å“æœåŠ¡æ ¡éªŒåº“å­˜
        boolean stockAvailable = productClient.checkStock(
            req.getProductId(),
            req.getQuantity()
        );
        if (!stockAvailable) {
            throw new BusinessException(&quot;åº“å­˜ä¸è¶³&quot;);
        }

        // 3. åˆ›å»ºè®¢å•ï¼ˆåªæ“ä½œè‡ªå·±çš„æ•°æ®åº“ï¼‰
        Order order = new Order();
        order.setUserId(req.getUserId());
        order.setProductId(req.getProductId());
        order.setStatus(OrderStatus.PENDING);
        orderRepository.save(order);

        // 4. å‘é€MQæ¶ˆæ¯ï¼ˆå¼‚æ­¥å¤„ç†ï¼‰
        OrderCreatedEvent event = new OrderCreatedEvent(order);

        // å•†å“æœåŠ¡ç›‘å¬æ­¤æ¶ˆæ¯ï¼Œæ‰£å‡åº“å­˜
        rabbitTemplate.convertAndSend(&quot;order.created&quot;, event);

        return OrderDTO.from(order);
    }
}
</code></pre>
<p><strong>æ”¹è¿›ç‚¹</strong>ï¼š</p>
<ul>
<li>âœ… é€šè¿‡Feignå®¢æˆ·ç«¯è°ƒç”¨å…¶ä»–æœåŠ¡ï¼ˆè§£è€¦ï¼‰</li>
<li>âœ… ä½¿ç”¨MQå¼‚æ­¥å¤„ç†éå…³é”®æµç¨‹ï¼ˆæå‡æ€§èƒ½ï¼‰</li>
<li>âœ… åªæ“ä½œè‡ªå·±çš„æ•°æ®åº“ï¼ˆæœåŠ¡è‡ªæ²»ï¼‰</li>
</ul>
<h2>ä¸‰ã€APIç½‘å…³è®¾è®¡</h2>
<h3>3.1 ç½‘å…³èŒè´£</h3>
<pre><code>å®¢æˆ·ç«¯è¯·æ±‚
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          API Gateway (ç½‘å…³)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  1. è·¯ç”±è½¬å‘                     â”‚  â”‚
â”‚  â”‚  2. è®¤è¯é‰´æƒ (JWTéªŒè¯)           â”‚  â”‚
â”‚  â”‚  3. é™æµç†”æ–­ (Sentinel/Hystrix)  â”‚  â”‚
â”‚  â”‚  4. æ—¥å¿—ç›‘æ§                     â”‚  â”‚
â”‚  â”‚  5. åè®®è½¬æ¢ (HTTP â†’ gRPC)       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“        â†“        â†“        â†“
  ç”¨æˆ·æœåŠ¡  å•†å“æœåŠ¡  è®¢å•æœåŠ¡  æ”¯ä»˜æœåŠ¡
</code></pre>
<h3>3.2 æŠ€æœ¯é€‰å‹å¯¹æ¯”</h3>
<table>
<thead>
<tr>
<th>ç½‘å…³</th>
<th>ä¼˜åŠ¿</th>
<th>åŠ£åŠ¿</th>
<th>é€‚ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Spring Cloud Gateway</strong></td>
<td>â€¢ éé˜»å¡IO<br>â€¢ ä¸Springç”Ÿæ€é›†æˆå¥½<br>â€¢ çµæ´»çš„è·¯ç”±é…ç½®</td>
<td>â€¢ æ€§èƒ½ä¸­ç­‰<br>â€¢ JVMå†…å­˜å ç”¨</td>
<td>JavaæŠ€æœ¯æ ˆ</td>
</tr>
<tr>
<td><strong>Kong</strong></td>
<td>â€¢ é«˜æ€§èƒ½ï¼ˆOpenRestyï¼‰<br>â€¢ æ’ä»¶ä¸°å¯Œ<br>â€¢ å¤šè¯­è¨€æ”¯æŒ</td>
<td>â€¢ é…ç½®å¤æ‚<br>â€¢ Luaå­¦ä¹ æˆæœ¬</td>
<td>å¤šè¯­è¨€æ··åˆæ¶æ„</td>
</tr>
<tr>
<td><strong>APISIX</strong></td>
<td>â€¢ æ€§èƒ½æä½³<br>â€¢ å›½äº§å¼€æº<br>â€¢ Dashboardå‹å¥½</td>
<td>â€¢ ç”Ÿæ€ç›¸å¯¹å°</td>
<td>é«˜æ€§èƒ½è¦æ±‚</td>
</tr>
<tr>
<td><strong>Nginx + Lua</strong></td>
<td>â€¢ æè‡´æ€§èƒ½<br>â€¢ ç¨³å®šæ€§å¥½</td>
<td>â€¢ å¼€å‘æ•ˆç‡ä½<br>â€¢ ç¼ºä¹æœåŠ¡æ²»ç†</td>
<td>ç®€å•è·¯ç”±åœºæ™¯</td>
</tr>
</tbody></table>
<h3>3.3 Spring Cloud Gatewayå®æˆ˜</h3>
<p><strong>é…ç½®ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="language-yaml"># application.yml
spring:
  cloud:
    gateway:
      routes:
        # ç”¨æˆ·æœåŠ¡è·¯ç”±
        - id: user-service
          uri: lb://user-service  # è´Ÿè½½å‡è¡¡
          predicates:
            - Path=/api/users/**
          filters:
            - StripPrefix=2  # å»æ‰ /api/users å‰ç¼€
            - name: RequestRateLimiter  # é™æµ
              args:
                redis-rate-limiter.replenishRate: 100  # æ¯ç§’100è¯·æ±‚
                redis-rate-limiter.burstCapacity: 200

        # è®¢å•æœåŠ¡è·¯ç”±
        - id: order-service
          uri: lb://order-service
          predicates:
            - Path=/api/orders/**
          filters:
            - StripPrefix=2
            - name: CircuitBreaker  # ç†”æ–­
              args:
                name: orderCircuitBreaker
                fallbackUri: forward:/fallback/order
</code></pre>
<p><strong>è‡ªå®šä¹‰è®¤è¯è¿‡æ»¤å™¨</strong>ï¼š</p>
<pre><code class="language-java">@Component
public class AuthGlobalFilter implements GlobalFilter, Ordered {

    @Autowired
    private JwtUtil jwtUtil;

    @Override
    public Mono&lt;Void&gt; filter(ServerWebExchange exchange,
                              GatewayFilterChain chain) {
        ServerHttpRequest request = exchange.getRequest();

        // ç™½åå•è·¯å¾„ï¼ˆç™»å½•ã€æ³¨å†Œï¼‰
        String path = request.getPath().value();
        if (path.contains(&quot;/login&quot;) || path.contains(&quot;/register&quot;)) {
            return chain.filter(exchange);
        }

        // æå–Token
        String token = request.getHeaders().getFirst(&quot;Authorization&quot;);
        if (token == null || !token.startsWith(&quot;Bearer &quot;)) {
            exchange.getResponse().setStatusCode(HttpStatus.UNAUTHORIZED);
            return exchange.getResponse().setComplete();
        }

        // éªŒè¯Token
        token = token.substring(7);
        try {
            Claims claims = jwtUtil.parseToken(token);
            String userId = claims.getSubject();

            // å°†ç”¨æˆ·IDä¼ é€’ç»™ä¸‹æ¸¸æœåŠ¡
            ServerHttpRequest modifiedRequest = request.mutate()
                .header(&quot;X-User-Id&quot;, userId)
                .build();

            return chain.filter(exchange.mutate()
                .request(modifiedRequest)
                .build());

        } catch (JwtException e) {
            exchange.getResponse().setStatusCode(HttpStatus.UNAUTHORIZED);
            return exchange.getResponse().setComplete();
        }
    }

    @Override
    public int getOrder() {
        return -100;  // ä¼˜å…ˆçº§æœ€é«˜
    }
}
</code></pre>
<h3>3.4 é™æµç†”æ–­ç­–ç•¥</h3>
<p><strong>åŸºäºRedisçš„åˆ†å¸ƒå¼é™æµ</strong>ï¼š</p>
<pre><code class="language-java">@Configuration
public class RateLimiterConfig {

    @Bean
    public KeyResolver userKeyResolver() {
        // åŸºäºç”¨æˆ·IDé™æµ
        return exchange -&gt; {
            String userId = exchange.getRequest()
                .getHeaders()
                .getFirst(&quot;X-User-Id&quot;);
            return Mono.just(userId != null ? userId : &quot;anonymous&quot;);
        };
    }

    @Bean
    public KeyResolver ipKeyResolver() {
        // åŸºäºIPé™æµ
        return exchange -&gt; {
            String ip = exchange.getRequest()
                .getRemoteAddress()
                .getAddress()
                .getHostAddress();
            return Mono.just(ip);
        };
    }
}
</code></pre>
<p><strong>Sentinelç†”æ–­é™çº§</strong>ï¼š</p>
<pre><code class="language-java">@Service
public class OrderFallbackService implements OrderServiceClient {

    @Override
    public OrderDTO getOrderById(Long orderId) {
        // ç†”æ–­åçš„é™çº§å“åº”
        OrderDTO fallback = new OrderDTO();
        fallback.setId(orderId);
        fallback.setStatus(&quot;UNAVAILABLE&quot;);
        fallback.setMessage(&quot;è®¢å•æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åé‡è¯•&quot;);
        return fallback;
    }
}
</code></pre>
<h2>å››ã€åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆ</h2>
<h3>4.1 é—®é¢˜åœºæ™¯</h3>
<p>ç”¨æˆ·ä¸‹å•æµç¨‹æ¶‰åŠå¤šä¸ªæœåŠ¡ï¼š</p>
<pre><code>1. è®¢å•æœåŠ¡ï¼šåˆ›å»ºè®¢å•
2. å•†å“æœåŠ¡ï¼šæ‰£å‡åº“å­˜
3. ç”¨æˆ·æœåŠ¡ï¼šæ‰£å‡ç§¯åˆ†
4. æ”¯ä»˜æœåŠ¡ï¼šåˆ›å»ºæ”¯ä»˜å•
</code></pre>
<p>ä»»ä½•ä¸€æ­¥å¤±è´¥ï¼Œéƒ½éœ€è¦å›æ»šå‰é¢çš„æ“ä½œã€‚</p>
<h3>4.2 è§£å†³æ–¹æ¡ˆå¯¹æ¯”</h3>
<table>
<thead>
<tr>
<th>æ–¹æ¡ˆ</th>
<th>ä¼˜åŠ¿</th>
<th>åŠ£åŠ¿</th>
<th>é€‚ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Seata ATæ¨¡å¼</strong></td>
<td>â€¢ æ— ä¾µå…¥<br>â€¢ æ€§èƒ½å¥½</td>
<td>â€¢ éœ€è¦æ•°æ®åº“æ”¯æŒ</td>
<td>å¼ºä¸€è‡´æ€§è¦æ±‚</td>
</tr>
<tr>
<td><strong>Sagaæ¨¡å¼</strong></td>
<td>â€¢ é•¿äº‹åŠ¡æ”¯æŒ<br>â€¢ æœ€ç»ˆä¸€è‡´æ€§</td>
<td>â€¢ éœ€è¦è¡¥å¿é€»è¾‘</td>
<td>å¤æ‚ä¸šåŠ¡æµç¨‹</td>
</tr>
<tr>
<td><strong>TCCæ¨¡å¼</strong></td>
<td>â€¢ æ€§èƒ½æœ€ä½³<br>â€¢ çµæ´»æ€§é«˜</td>
<td>â€¢ å¼€å‘æˆæœ¬é«˜</td>
<td>æ ¸å¿ƒäº¤æ˜“åœºæ™¯</td>
</tr>
<tr>
<td><strong>æœ¬åœ°æ¶ˆæ¯è¡¨</strong></td>
<td>â€¢ ç®€å•å¯é </td>
<td>â€¢ ä»£ç ä¾µå…¥æ€§å¼º</td>
<td>ç®€å•å¼‚æ­¥åœºæ™¯</td>
</tr>
</tbody></table>
<h3>4.3 Seata ATæ¨¡å¼å®æˆ˜</h3>
<p><strong>1. å¼•å…¥ä¾èµ–</strong>ï¼š</p>
<pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;io.seata&lt;/groupId&gt;
    &lt;artifactId&gt;seata-spring-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;1.7.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p><strong>2. é…ç½®Seata</strong>ï¼š</p>
<pre><code class="language-yaml">seata:
  application-id: order-service
  tx-service-group: my-tx-group
  service:
    vgroup-mapping:
      my-tx-group: default
    grouplist:
      default: 127.0.0.1:8091  # Seata Serveråœ°å€
</code></pre>
<p><strong>3. ä¸šåŠ¡ä»£ç </strong>ï¼š</p>
<pre><code class="language-java">// è®¢å•æœåŠ¡ï¼ˆäº‹åŠ¡å‘èµ·æ–¹ï¼‰
@Service
public class OrderService {

    @Autowired
    private OrderRepository orderRepository;

    @Autowired
    private ProductServiceClient productClient;

    @Autowired
    private UserServiceClient userClient;

    @GlobalTransactional(name = &quot;create-order&quot;, rollbackFor = Exception.class)
    public OrderDTO createOrder(CreateOrderRequest req) {
        // 1. åˆ›å»ºè®¢å•ï¼ˆæœ¬åœ°äº‹åŠ¡ï¼‰
        Order order = new Order();
        order.setUserId(req.getUserId());
        order.setProductId(req.getProductId());
        order.setAmount(req.getAmount());
        orderRepository.save(order);

        // 2. RPCè°ƒç”¨å•†å“æœåŠ¡æ‰£å‡åº“å­˜ï¼ˆè¿œç¨‹äº‹åŠ¡ï¼‰
        productClient.deductStock(req.getProductId(), req.getQuantity());

        // 3. RPCè°ƒç”¨ç”¨æˆ·æœåŠ¡æ‰£å‡ç§¯åˆ†ï¼ˆè¿œç¨‹äº‹åŠ¡ï¼‰
        userClient.deductPoints(req.getUserId(), req.getPoints());

        // ä»»ä½•ä¸€æ­¥å¤±è´¥ï¼ŒSeataè‡ªåŠ¨å›æ»šæ‰€æœ‰æ“ä½œ
        return OrderDTO.from(order);
    }
}

// å•†å“æœåŠ¡ï¼ˆäº‹åŠ¡å‚ä¸æ–¹ï¼‰
@Service
public class ProductService {

    @Autowired
    private ProductRepository productRepository;

    @Transactional
    public void deductStock(Long productId, Integer quantity) {
        Product product = productRepository.findById(productId)
            .orElseThrow(() -&gt; new RuntimeException(&quot;å•†å“ä¸å­˜åœ¨&quot;));

        if (product.getStock() &lt; quantity) {
            throw new RuntimeException(&quot;åº“å­˜ä¸è¶³&quot;);  // å¼‚å¸¸ä¼šè§¦å‘å…¨å±€å›æ»š
        }

        product.setStock(product.getStock() - quantity);
        productRepository.save(product);
    }
}
</code></pre>
<p><strong>å·¥ä½œåŸç†</strong>ï¼š</p>
<pre><code>Phase 1 (Prepare):
è®¢å•æœåŠ¡: INSERT order â†’ è®°å½•undo_log
å•†å“æœåŠ¡: UPDATE stock â†’ è®°å½•undo_log
ç”¨æˆ·æœåŠ¡: UPDATE points â†’ è®°å½•undo_log

Phase 2 (Commit/Rollback):
æˆåŠŸ: åˆ é™¤æ‰€æœ‰undo_log
å¤±è´¥: æ ¹æ®undo_logå›æ»šæ‰€æœ‰æ“ä½œ
</code></pre>
<h3>4.4 Sagaæ¨¡å¼ï¼ˆé•¿äº‹åŠ¡ï¼‰</h3>
<p>é€‚ç”¨äºè·¨å¤šä¸ªå¾®æœåŠ¡çš„å¤æ‚ä¸šåŠ¡æµç¨‹ï¼š</p>
<pre><code class="language-java">// ä½¿ç”¨Seata SagaçŠ¶æ€æœº
{
  &quot;Name&quot;: &quot;OrderSaga&quot;,
  &quot;StartState&quot;: &quot;CreateOrder&quot;,
  &quot;States&quot;: {
    &quot;CreateOrder&quot;: {
      &quot;Type&quot;: &quot;ServiceTask&quot;,
      &quot;ServiceName&quot;: &quot;orderService&quot;,
      &quot;ServiceMethod&quot;: &quot;create&quot;,
      &quot;CompensateState&quot;: &quot;CancelOrder&quot;,
      &quot;Next&quot;: &quot;DeductStock&quot;
    },
    &quot;DeductStock&quot;: {
      &quot;Type&quot;: &quot;ServiceTask&quot;,
      &quot;ServiceName&quot;: &quot;productService&quot;,
      &quot;ServiceMethod&quot;: &quot;deductStock&quot;,
      &quot;CompensateState&quot;: &quot;RestoreStock&quot;,
      &quot;Next&quot;: &quot;DeductPoints&quot;
    },
    &quot;DeductPoints&quot;: {
      &quot;Type&quot;: &quot;ServiceTask&quot;,
      &quot;ServiceName&quot;: &quot;userService&quot;,
      &quot;ServiceMethod&quot;: &quot;deductPoints&quot;,
      &quot;CompensateState&quot;: &quot;RestorePoints&quot;,
      &quot;Next&quot;: &quot;Succeed&quot;
    },
    &quot;Succeed&quot;: {
      &quot;Type&quot;: &quot;Succeed&quot;
    }
  }
}
</code></pre>
<p><strong>è¡¥å¿é€»è¾‘</strong>ï¼š</p>
<pre><code class="language-java">@Service
public class OrderCompensationService {

    // æ­£å‘æ“ä½œ
    public void createOrder(Order order) {
        orderRepository.save(order);
    }

    // è¡¥å¿æ“ä½œï¼ˆå›æ»šï¼‰
    public void cancelOrder(Order order) {
        order.setStatus(OrderStatus.CANCELLED);
        orderRepository.save(order);
    }
}
</code></pre>
<h2>äº”ã€æœåŠ¡æ²»ç†ä¸ç›‘æ§</h2>
<h3>5.1 æœåŠ¡æ³¨å†Œä¸å‘ç°</h3>
<p><strong>Nacosé…ç½®</strong>ï¼š</p>
<pre><code class="language-yaml">spring:
  cloud:
    nacos:
      discovery:
        server-addr: 127.0.0.1:8848
        namespace: production
        group: DEFAULT_GROUP
        metadata:
          version: 1.0.0
          region: cn-beijing
</code></pre>
<p><strong>å¥åº·æ£€æŸ¥</strong>ï¼š</p>
<pre><code class="language-java">@RestController
public class HealthController {

    @Autowired
    private DataSource dataSource;

    @GetMapping(&quot;/actuator/health&quot;)
    public Health health() {
        try {
            // æ£€æŸ¥æ•°æ®åº“è¿æ¥
            dataSource.getConnection().close();
            return Health.up().build();
        } catch (Exception e) {
            return Health.down().withDetail(&quot;error&quot;, e.getMessage()).build();
        }
    }
}
</code></pre>
<h3>5.2 é“¾è·¯è¿½è¸ªï¼ˆSkywalkingï¼‰</h3>
<p><strong>å¼•å…¥ä¾èµ–</strong>ï¼š</p>
<pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;org.apache.skywalking&lt;/groupId&gt;
    &lt;artifactId&gt;apm-toolkit-trace&lt;/artifactId&gt;
    &lt;version&gt;8.15.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p><strong>è‡ªå®šä¹‰è¿½è¸ª</strong>ï¼š</p>
<pre><code class="language-java">@Service
public class OrderService {

    @Trace  // è‡ªåŠ¨è®°å½•æ–¹æ³•æ‰§è¡Œæ—¶é—´
    @Tag(key = &quot;orderId&quot;, value = &quot;arg[0]&quot;)
    public Order getOrderById(Long orderId) {
        ActiveSpan.tag(&quot;bizType&quot;, &quot;query&quot;);
        return orderRepository.findById(orderId);
    }
}
</code></pre>
<p><strong>è¿½è¸ªæ•ˆæœ</strong>ï¼š</p>
<pre><code>TraceId: 1a2b3c4d5e6f
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ API Gateway         [200ms]                         â”‚
â”‚   â”œâ”€ è®¤è¯è¿‡æ»¤å™¨     [20ms]                          â”‚
â”‚   â””â”€ è·¯ç”±è½¬å‘       [180ms]                         â”‚
â”‚       â”œâ”€ è®¢å•æœåŠ¡   [150ms]                         â”‚
â”‚       â”‚   â”œâ”€ æŸ¥è¯¢DB [80ms]                          â”‚
â”‚       â”‚   â””â”€ RPCè°ƒç”¨ç”¨æˆ·æœåŠ¡ [60ms]                 â”‚
â”‚       â”‚       â””â”€ ç”¨æˆ·æœåŠ¡æŸ¥è¯¢ [50ms]                â”‚
â”‚       â””â”€ è¿”å›ç»“æœ   [10ms]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3>5.3 ç›‘æ§å‘Šè­¦ï¼ˆPrometheus + Grafanaï¼‰</h3>
<p><strong>æš´éœ²Metrics</strong>ï¼š</p>
<pre><code class="language-yaml">management:
  endpoints:
    web:
      exposure:
        include: prometheus,health,info
  metrics:
    tags:
      application: ${spring.application.name}
</code></pre>
<p><strong>è‡ªå®šä¹‰æŒ‡æ ‡</strong>ï¼š</p>
<pre><code class="language-java">@Component
public class OrderMetrics {

    private final Counter orderCreatedCounter;
    private final Timer orderProcessTimer;

    public OrderMetrics(MeterRegistry registry) {
        this.orderCreatedCounter = Counter.builder(&quot;order.created.total&quot;)
            .description(&quot;è®¢å•åˆ›å»ºæ€»æ•°&quot;)
            .tag(&quot;status&quot;, &quot;success&quot;)
            .register(registry);

        this.orderProcessTimer = Timer.builder(&quot;order.process.duration&quot;)
            .description(&quot;è®¢å•å¤„ç†è€—æ—¶&quot;)
            .register(registry);
    }

    public void recordOrderCreated() {
        orderCreatedCounter.increment();
    }

    public void recordOrderProcess(Runnable task) {
        orderProcessTimer.record(task);
    }
}
</code></pre>
<p><strong>Grafana Dashboardé…ç½®</strong>ï¼š</p>
<pre><code>Panel 1: è®¢å•QPS
PromQL: rate(order_created_total[1m])

Panel 2: è®¢å•å¤„ç†P99å»¶è¿Ÿ
PromQL: histogram_quantile(0.99, order_process_duration_bucket)

Panel 3: æœåŠ¡å¯ç”¨æ€§
PromQL: up{job=&quot;order-service&quot;}
</code></pre>
<h2>å…­ã€æ€§èƒ½ä¼˜åŒ–å®æˆ˜</h2>
<h3>6.1 æ•°æ®åº“æ‹†åˆ†</h3>
<p><strong>å‚ç›´æ‹†åˆ†</strong>ï¼ˆæŒ‰ä¸šåŠ¡ï¼‰ï¼š</p>
<pre><code>åŸå•åº“:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  users            â”‚
â”‚  products         â”‚
â”‚  orders           â”‚
â”‚  payments         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ‹†åˆ†å:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ users  â”‚  â”‚ products â”‚  â”‚ orders â”‚  â”‚ payments â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>æ°´å¹³æ‹†åˆ†</strong>ï¼ˆæŒ‰æ•°æ®é‡ï¼‰ï¼š</p>
<pre><code class="language-java">// ShardingSphereé…ç½®
spring:
  shardingsphere:
    datasource:
      names: ds0,ds1
      ds0:
        url: jdbc:mysql://localhost:3306/order_db_0
      ds1:
        url: jdbc:mysql://localhost:3306/order_db_1
    rules:
      sharding:
        tables:
          t_order:
            actual-data-nodes: ds$-&gt;{0..1}.t_order_$-&gt;{0..15}
            table-strategy:
              standard:
                sharding-column: order_id
                sharding-algorithm-name: order-inline
            database-strategy:
              standard:
                sharding-column: user_id
                sharding-algorithm-name: database-inline
        sharding-algorithms:
          order-inline:
            type: INLINE
            props:
              algorithm-expression: t_order_$-&gt;{order_id % 16}
          database-inline:
            type: INLINE
            props:
              algorithm-expression: ds$-&gt;{user_id % 2}
</code></pre>
<h3>6.2 ç¼“å­˜ç­–ç•¥</h3>
<p><strong>å¤šçº§ç¼“å­˜æ¶æ„</strong>ï¼š</p>
<pre><code>è¯·æ±‚ â†’ æœ¬åœ°ç¼“å­˜(Caffeine) â†’ Redisç¼“å­˜ â†’ æ•°æ®åº“
       â†“ å‘½ä¸­ç‡95%          â†“ å‘½ä¸­ç‡4.9%   â†“ 0.1%
</code></pre>
<p><strong>ä»£ç å®ç°</strong>ï¼š</p>
<pre><code class="language-java">@Service
public class ProductService {

    @Autowired
    private RedisTemplate&lt;String, Product&gt; redisTemplate;

    @Autowired
    private ProductRepository productRepository;

    // Caffeineæœ¬åœ°ç¼“å­˜
    private final LoadingCache&lt;Long, Product&gt; localCache =
        Caffeine.newBuilder()
            .maximumSize(1000)
            .expireAfterWrite(5, TimeUnit.MINUTES)
            .build(this::loadFromRedis);

    public Product getProductById(Long productId) {
        return localCache.get(productId);
    }

    private Product loadFromRedis(Long productId) {
        String key = &quot;product:&quot; + productId;

        // 1. æŸ¥Redis
        Product product = redisTemplate.opsForValue().get(key);
        if (product != null) {
            return product;
        }

        // 2. æŸ¥æ•°æ®åº“
        product = productRepository.findById(productId)
            .orElseThrow(() -&gt; new RuntimeException(&quot;å•†å“ä¸å­˜åœ¨&quot;));

        // 3. å†™å…¥Redis
        redisTemplate.opsForValue().set(key, product, 30, TimeUnit.MINUTES);

        return product;
    }
}
</code></pre>
<p><strong>ç¼“å­˜æ›´æ–°ç­–ç•¥</strong>ï¼š</p>
<pre><code class="language-java">@Service
public class ProductCacheService {

    @Autowired
    private RedisTemplate&lt;String, Product&gt; redisTemplate;

    @Autowired
    private RabbitTemplate rabbitTemplate;

    // æ–¹æ¡ˆ1: Cache Asideï¼ˆæ¨èï¼‰
    public void updateProduct(Product product) {
        // 1. æ›´æ–°æ•°æ®åº“
        productRepository.save(product);

        // 2. åˆ é™¤ç¼“å­˜ï¼ˆè€Œéæ›´æ–°ï¼‰
        redisTemplate.delete(&quot;product:&quot; + product.getId());

        // 3. å‘é€MQé€šçŸ¥å…¶ä»–èŠ‚ç‚¹æ¸…é™¤æœ¬åœ°ç¼“å­˜
        rabbitTemplate.convertAndSend(&quot;cache.invalidate&quot;, product.getId());
    }

    // æ–¹æ¡ˆ2: Canalç›‘å¬MySQL Binlogè‡ªåŠ¨åˆ é™¤ç¼“å­˜
    @RabbitListener(queues = &quot;canal.product.update&quot;)
    public void onProductUpdated(CanalMessage message) {
        Long productId = message.getData().getId();
        redisTemplate.delete(&quot;product:&quot; + productId);
    }
}
</code></pre>
<h3>6.3 å¼‚æ­¥è§£è€¦</h3>
<p><strong>åŒæ­¥è°ƒç”¨ï¼ˆæ”¹é€ å‰ï¼‰</strong>ï¼š</p>
<pre><code class="language-java">// å“åº”æ—¶é—´ = 500ms + 200ms + 300ms = 1000ms
public Order createOrder(CreateOrderRequest req) {
    Order order = orderRepository.save(new Order());  // 500ms
    smsService.sendOrderNotification(order);          // 200ms (é˜»å¡)
    logService.recordOrderLog(order);                 // 300ms (é˜»å¡)
    return order;
}
</code></pre>
<p><strong>å¼‚æ­¥è°ƒç”¨ï¼ˆæ”¹é€ åï¼‰</strong>ï¼š</p>
<pre><code class="language-java">// å“åº”æ—¶é—´ = 500msï¼ˆæå‡50%ï¼‰
@Async
public Order createOrder(CreateOrderRequest req) {
    Order order = orderRepository.save(new Order());  // 500ms

    // å‘é€MQæ¶ˆæ¯ï¼ˆéé˜»å¡ï¼‰
    OrderCreatedEvent event = new OrderCreatedEvent(order);
    rabbitTemplate.convertAndSend(&quot;order.created&quot;, event);

    return order;
}

// çŸ­ä¿¡æœåŠ¡å¼‚æ­¥å¤„ç†
@RabbitListener(queues = &quot;order.created&quot;)
public void handleOrderCreated(OrderCreatedEvent event) {
    smsService.sendOrderNotification(event.getOrder());
    logService.recordOrderLog(event.getOrder());
}
</code></pre>
<h2>ä¸ƒã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3>Q1: æœåŠ¡å¯åŠ¨é¡ºåºä¾èµ–æ€ä¹ˆåŠï¼Ÿ</h3>
<p><strong>é—®é¢˜</strong>ï¼šè®¢å•æœåŠ¡ä¾èµ–ç”¨æˆ·æœåŠ¡ï¼Œç”¨æˆ·æœåŠ¡æœªå¯åŠ¨æ—¶è®¢å•æœåŠ¡æŠ¥é”™ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="language-java">// ä½¿ç”¨@ConditionalOnBeanå»¶è¿Ÿåˆå§‹åŒ–
@Configuration
public class FeignClientConfig {

    @Bean
    @ConditionalOnProperty(name = &quot;feign.client.user.enabled&quot;, havingValue = &quot;true&quot;)
    public UserServiceClient userServiceClient() {
        return new UserServiceClient();
    }
}

// å¯åŠ¨æ—¶é‡è¯•æœºåˆ¶
@SpringBootApplication
public class OrderServiceApplication {

    public static void main(String[] args) {
        int retries = 0;
        while (retries &lt; 3) {
            try {
                SpringApplication.run(OrderServiceApplication.class, args);
                break;
            } catch (Exception e) {
                retries++;
                Thread.sleep(5000);  // ç­‰å¾…5ç§’é‡è¯•
            }
        }
    }
}
</code></pre>
<h3>Q2: é›ªå´©æ•ˆåº”å¦‚ä½•é¢„é˜²ï¼Ÿ</h3>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>è®¾ç½®è¶…æ—¶æ—¶é—´</strong></li>
</ol>
<pre><code class="language-yaml">feign:
  client:
    config:
      default:
        connectTimeout: 2000
        readTimeout: 5000
</code></pre>
<ol start="2">
<li><strong>ç†”æ–­é™çº§</strong></li>
</ol>
<pre><code class="language-java">@FeignClient(name = &quot;user-service&quot;, fallback = UserServiceFallback.class)
public interface UserServiceClient {
    UserDTO getUserById(Long userId);
}

@Component
public class UserServiceFallback implements UserServiceClient {
    @Override
    public UserDTO getUserById(Long userId) {
        // é™çº§å“åº”
        UserDTO fallback = new UserDTO();
        fallback.setId(userId);
        fallback.setNickname(&quot;ç”¨æˆ·&quot; + userId);
        return fallback;
    }
}
</code></pre>
<ol start="3">
<li><strong>é™æµä¿æŠ¤</strong></li>
</ol>
<pre><code class="language-java">@SentinelResource(value = &quot;getOrderById&quot;,
    blockHandler = &quot;handleBlock&quot;,
    fallback = &quot;handleFallback&quot;)
public OrderDTO getOrderById(Long orderId) {
    return orderRepository.findById(orderId);
}

public OrderDTO handleBlock(Long orderId, BlockException ex) {
    throw new BusinessException(&quot;ç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åé‡è¯•&quot;);
}
</code></pre>
<h3>Q3: é…ç½®ç®¡ç†æ··ä¹±ï¼Ÿ</h3>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨Nacosé…ç½®ä¸­å¿ƒ</p>
<pre><code class="language-yaml"># bootstrap.yml
spring:
  cloud:
    nacos:
      config:
        server-addr: 127.0.0.1:8848
        namespace: production
        group: DEFAULT_GROUP
        file-extension: yaml
        shared-configs:
          - data-id: common-config.yaml
            refresh: true
</code></pre>
<p><strong>åŠ¨æ€åˆ·æ–°</strong>ï¼š</p>
<pre><code class="language-java">@RefreshScope  // é…ç½®å˜æ›´è‡ªåŠ¨åˆ·æ–°
@RestController
public class ConfigController {

    @Value(&quot;${feature.new-payment:false}&quot;)
    private boolean newPaymentEnabled;

    @GetMapping(&quot;/config/payment-feature&quot;)
    public boolean getPaymentFeature() {
        return newPaymentEnabled;
    }
}
</code></pre>
<h2>å…«ã€æ€»ç»“ä¸æœ€ä½³å®è·µ</h2>
<h3>æ ¸å¿ƒåŸåˆ™</h3>
<ol>
<li><strong>æ¸è¿›å¼æ¼”è¿›</strong>ï¼šä¸è¦ä¸€æ¬¡æ€§é‡å†™ï¼Œå…ˆæ‹†åˆ†æ ¸å¿ƒæ¨¡å—</li>
<li><strong>æœåŠ¡è‡ªæ²»</strong>ï¼šæ¯ä¸ªæœåŠ¡ç‹¬ç«‹æ•°æ®åº“ã€ç‹¬ç«‹éƒ¨ç½²</li>
<li><strong>å®¹é”™è®¾è®¡</strong>ï¼šå‡è®¾ä»»ä½•æœåŠ¡éƒ½å¯èƒ½å¤±è´¥</li>
<li><strong>å¯è§‚æµ‹æ€§</strong>ï¼šå®Œå–„ç›‘æ§ã€æ—¥å¿—ã€é“¾è·¯è¿½è¸ª</li>
</ol>
<h3>æ¨èæŠ€æœ¯æ ˆ</h3>
<pre><code>æœåŠ¡æ¡†æ¶: Spring Boot + Spring Cloud Alibaba
APIç½‘å…³: Spring Cloud Gateway / APISIX
æ³¨å†Œä¸­å¿ƒ: Nacos
é…ç½®ä¸­å¿ƒ: Nacos
åˆ†å¸ƒå¼äº‹åŠ¡: Seata
æ¶ˆæ¯é˜Ÿåˆ—: RabbitMQ / RocketMQ
ç¼“å­˜: Redis + Caffeine
æ•°æ®åº“: MySQL + ShardingSphere
é“¾è·¯è¿½è¸ª: Skywalking
ç›‘æ§: Prometheus + Grafana
æ—¥å¿—: ELK (Elasticsearch + Logstash + Kibana)
</code></pre>
<h3>æˆæœ¬æ”¶ç›Šåˆ†æ</h3>
<p><strong>é€‚åˆåšå¾®æœåŠ¡çš„åœºæ™¯</strong>ï¼š</p>
<ul>
<li>âœ… å›¢é˜Ÿè§„æ¨¡ &gt; 10äºº</li>
<li>âœ… ä¸šåŠ¡å¤æ‚åº¦é«˜ï¼Œæ¨¡å—å˜åŒ–é¢‘ç¹</li>
<li>âœ… ç”¨æˆ·é‡å¤§ï¼Œéœ€è¦ç‹¬ç«‹æ‰©å®¹</li>
</ul>
<p><strong>ä¸é€‚åˆåšå¾®æœåŠ¡çš„åœºæ™¯</strong>ï¼š</p>
<ul>
<li>âŒ å°å›¢é˜Ÿï¼ˆ&lt;5äººï¼‰</li>
<li>âŒ ä¸šåŠ¡ç®€å•ï¼ŒCRUDä¸ºä¸»</li>
<li>âŒ ç”¨æˆ·é‡å°ï¼ˆ&lt;1000 DAUï¼‰</li>
</ul>
<hr>
<h2>å…³äºæˆ‘ä»¬</h2>
<p>æ™ºç†ç§‘æŠ€æ‹¥æœ‰ä¸°å¯Œçš„å¾®æœåŠ¡æ¶æ„è®¾è®¡ä¸è½åœ°ç»éªŒï¼Œå·²ä¸ºå¤šå®¶ä¼ä¸šå®Œæˆå•ä½“åˆ°å¾®æœåŠ¡çš„æ”¹é€ ã€‚</p>
<p><strong>æœåŠ¡å†…å®¹</strong>ï¼š</p>
<ul>
<li>å¾®æœåŠ¡æ¶æ„å’¨è¯¢ä¸è¯„ä¼°</li>
<li>å•ä½“åº”ç”¨æ‹†åˆ†æ–¹æ¡ˆè®¾è®¡</li>
<li>å®Œæ•´å¾®æœåŠ¡ä½“ç³»å¼€å‘</li>
<li>æ€§èƒ½ä¼˜åŒ–ä¸æ•…éšœæ’æŸ¥</li>
</ul>
<p><strong>è”ç³»æˆ‘ä»¬</strong>ï¼š</p>
<ul>
<li>ğŸ“§ é‚®ç®±: <a href="mailto:wuning@wanli.ai">wuning@wanli.ai</a></li>
<li>ğŸŒ å®˜ç½‘: <a href="https://zhili.wanli.ai">https://zhili.wanli.ai</a></li>
<li>ğŸ“ æŠ€æœ¯åšå®¢: <a href="https://zhili.wanli.ai/blog/">https://zhili.wanli.ai/blog/</a></li>
</ul>
<p>æ¬¢è¿äº¤æµå¾®æœåŠ¡æ¶æ„ç»éªŒï¼</p>

            
<!-- ç›¸å…³æ¨è -->
<div class="mt-16 border-t border-gray-200 pt-12">
    <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center">
        <span class="w-1 h-6 bg-blue-600 mr-3"></span>
        ç›¸å…³æ¨è
    </h2>
    <div class="space-y-4">
        
    <a href="ai-cost-optimization-guide.html"
       class="block bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg hover:border-blue-400 transition-all group">
        <div class="flex items-start space-x-4">
            <div class="flex-shrink-0">
                <span class="inline-block px-3 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800">
                    AIåº”ç”¨å¼€å‘
                </span>
            </div>
            <div class="flex-1">
                <h3 class="text-lg font-semibold text-gray-900 group-hover:text-blue-600 mb-2">
                    AIåº”ç”¨æˆæœ¬ä¼˜åŒ–å®Œå…¨æŒ‡å—ï¼šä»æ¯æœˆ$5000é™è‡³$800çš„å®æˆ˜ç»éªŒ
                </h3>
                <p class="text-sm text-gray-600 line-clamp-2 mb-3">
                    åˆ†äº«çœŸå®é¡¹ç›®ä¸­å°†AIåº”ç”¨æˆæœ¬ä»æ¯æœˆ$5000é™è‡³$800çš„å®Œæ•´ä¼˜åŒ–ç­–ç•¥ï¼Œæ¶µç›–æ¨¡å‹é€‰å‹ã€Promptä¼˜åŒ–ã€ç¼“å­˜ç­–ç•¥ã€æœ¬åœ°åŒ–éƒ¨ç½²ç­‰å¤šä¸ªç»´åº¦
                </p>
                <div class="flex items-center text-xs text-gray-500 space-x-4">
                    <span>ğŸ“… 2024-12-31</span>
                    <span>â±ï¸ 20åˆ†é’Ÿ</span>
                </div>
            </div>
        </div>
    </a>
  

    <a href="prompt-engineering-complete-guide.html"
       class="block bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg hover:border-blue-400 transition-all group">
        <div class="flex items-start space-x-4">
            <div class="flex-shrink-0">
                <span class="inline-block px-3 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800">
                    AIåº”ç”¨å¼€å‘
                </span>
            </div>
            <div class="flex-1">
                <h3 class="text-lg font-semibold text-gray-900 group-hover:text-blue-600 mb-2">
                    æç¤ºè¯å·¥ç¨‹å®Œå…¨æŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š
                </h3>
                <p class="text-sm text-gray-600 line-clamp-2 mb-3">
                    ç³»ç»Ÿè®²è§£æç¤ºè¯å·¥ç¨‹çš„æ ¸å¿ƒåŸç†ã€è®¾è®¡æ¨¡å¼å’Œæœ€ä½³å®è·µï¼Œæ¶µç›–Zero-Shotã€Few-Shotã€Chain-of-Thoughtç­‰æŠ€æœ¯ï¼Œé™„å¤§é‡çœŸå®æ¡ˆä¾‹å’Œå¯å¤ç”¨æ¨¡æ¿
                </p>
                <div class="flex items-center text-xs text-gray-500 space-x-4">
                    <span>ğŸ“… 2024-12-30</span>
                    <span>â±ï¸ 18åˆ†é’Ÿ</span>
                </div>
            </div>
        </div>
    </a>
  

    <a href="rag-enterprise-knowledge-base.html"
       class="block bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg hover:border-blue-400 transition-all group">
        <div class="flex items-start space-x-4">
            <div class="flex-shrink-0">
                <span class="inline-block px-3 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800">
                    AIåº”ç”¨å¼€å‘
                </span>
            </div>
            <div class="flex-1">
                <h3 class="text-lg font-semibold text-gray-900 group-hover:text-blue-600 mb-2">
                    RAGæŠ€æœ¯åœ¨ä¼ä¸šçŸ¥è¯†åº“ä¸­çš„åº”ç”¨å®è·µ
                </h3>
                <p class="text-sm text-gray-600 line-clamp-2 mb-3">
                    æ·±å…¥è§£æRAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŠ€æœ¯å¦‚ä½•è§£å†³ä¼ä¸šçŸ¥è¯†åº“åº”ç”¨ç—›ç‚¹ï¼ŒåŒ…å«å®Œæ•´çš„æŠ€æœ¯æ¶æ„ã€å‘é‡æ•°æ®åº“é€‰å‹ã€æ£€ç´¢ç­–ç•¥ä¼˜åŒ–åŠçœŸå®æ¡ˆä¾‹åˆ†äº«
                </p>
                <div class="flex items-center text-xs text-gray-500 space-x-4">
                    <span>ğŸ“… 2024-12-28</span>
                    <span>â±ï¸ 12åˆ†é’Ÿ</span>
                </div>
            </div>
        </div>
    </a>
  
    </div>
</div>

</article>

            <!-- è”ç³»å¡ç‰‡ -->
            <div class="contact-card mt-12">
                <h3 class="text-xl font-bold text-white mb-3">ğŸ’¡ éœ€è¦æŠ€æœ¯æ”¯æŒï¼Ÿ</h3>
                <p class="text-white/90 mb-4">æ™ºç†ç§‘æŠ€ä¸“æ³¨äºä¼ä¸šçº§AIåº”ç”¨å¼€å‘ï¼Œæˆ‘ä»¬æä¾›ä»éœ€æ±‚åˆ†æã€æŠ€æœ¯é€‰å‹åˆ°å¼€å‘ä¸Šçº¿çš„å…¨æµç¨‹æœåŠ¡ã€‚</p>
                <div class="flex flex-col sm:flex-row gap-4">
                    <a href="mailto:wuning@wanli.ai" class="inline-flex items-center text-white hover:text-white/90">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                        wuning@wanli.ai
                    </a>
                    <a href="https://zhili.wanli.ai" class="inline-flex items-center text-white hover:text-white/90">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"></path>
                        </svg>
                        zhili.wanli.ai
                    </a>
                </div>
            </div>

            <!-- æ–‡ç« æ ‡ç­¾ -->
            <div class="mt-8 pt-8 border-t border-gray-200">
                <div class="flex flex-wrap gap-2">
                    <span class="tag">#å¾®æœåŠ¡</span>
                    <span class="tag">#Spring Cloud</span>
                    <span class="tag">#åˆ†å¸ƒå¼ç³»ç»Ÿ</span>
                    <span class="tag">#æ¶æ„è®¾è®¡</span>
                    <span class="tag">#æœåŠ¡æ²»ç†</span>
                </div>
            </div>

            <!-- è¿”å›åšå®¢åˆ—è¡¨ -->
            <div class="text-center mt-12">
                <a href="/blog/" class="inline-flex items-center px-6 py-3 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition text-gray-700 font-medium">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                    </svg>
                    è¿”å›åšå®¢åˆ—è¡¨
                </a>
            </div>

        </div>
    </main>

    <!-- é¡µè„š -->
    <footer class="bg-white border-t border-gray-200 mt-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="text-center text-gray-500 text-sm">
                <p>&copy; 2024 åŒ—äº¬æ™ºç†ç§‘æŠ€æœ‰é™å…¬å¸ |
                    <a href="/" class="hover:text-blue-600">è¿”å›é¦–é¡µ</a> |
                    <a href="mailto:wuning@wanli.ai" class="hover:text-blue-600">è”ç³»æˆ‘ä»¬</a>
                </p>
            </div>
        </div>
    </footer>

    <!-- ç»“æ„åŒ–æ•°æ® - Article -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "headline": "ä¼ä¸šçº§å¾®æœåŠ¡æ¶æ„è®¾è®¡ä¸è½åœ°å®è·µ",
      "description": "ä»å•ä½“åº”ç”¨åˆ°å¾®æœåŠ¡çš„å®Œæ•´æ¼”è¿›è·¯å¾„ï¼Œæ¶µç›–æœåŠ¡æ‹†åˆ†ç­–ç•¥ã€APIç½‘å…³è®¾è®¡ã€åˆ†å¸ƒå¼äº‹åŠ¡å¤„ç†ã€æœåŠ¡æ²»ç†ç­‰æ ¸å¿ƒæŠ€æœ¯ï¼Œå¹¶åˆ†äº«çœŸå®é¡¹ç›®ä¸­çš„è¸©å‘ç»éªŒ",
      "image": "https://zhili.wanli.ai/og-image.jpg",
      "datePublished": "2024-12-29T10:00:00+08:00",
      "dateModified": "2024-12-29T10:00:00+08:00",
      "author": {
        "@type": "Organization",
        "name": "æ™ºç†ç§‘æŠ€æŠ€æœ¯å›¢é˜Ÿ"
      },
      "publisher": {
        "@type": "Organization",
        "name": "åŒ—äº¬æ™ºç†ç§‘æŠ€æœ‰é™å…¬å¸",
        "logo": {
          "@type": "ImageObject",
          "url": "https://zhili.wanli.ai/og-image.jpg"
        }
      },
      "articleSection": "æ¶æ„è®¾è®¡",
      "keywords": ["å¾®æœåŠ¡","Spring Cloud","åˆ†å¸ƒå¼ç³»ç»Ÿ","æ¶æ„è®¾è®¡","æœåŠ¡æ²»ç†"],
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://zhili.wanli.ai/blog/posts/enterprise-microservices-architecture.html"
      }
    }
    </script>


<!-- ç¤¾äº¤åˆ†äº«æŒ‰é’® -->
<div class="fixed right-8 top-1/2 transform -translate-y-1/2 z-50 space-y-3" id="shareButtons">
    <!-- åˆ†äº«åˆ°å¾®åš -->
    <button onclick="shareToWeibo()"
            class="w-12 h-12 bg-orange-500 hover:bg-orange-600 text-white rounded-full shadow-lg flex items-center justify-center transition-all hover:scale-110"
            title="åˆ†äº«åˆ°å¾®åš">
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M9.6 12c-.4 0-.7.2-.8.5-.1.4 0 .7.3.9.4.2.8.2 1.1-.1.2-.3.2-.7 0-1-.2-.2-.4-.3-.6-.3zm2.7-1.1c-.2 0-.3.1-.4.2 0 .2 0 .3.2.4.2.1.3.1.5 0 .1-.1.1-.3 0-.4-.1-.1-.2-.2-.3-.2zm5.4 7c-1.6 1.2-3.8 1.5-5.7 1.1-1.9-.4-3.6-1.5-4.6-3.1-1-1.6-1.2-3.7-.5-5.5.7-1.8 2.3-3.2 4.2-3.7 1.9-.5 4-.1 5.5 1.1 1.6 1.2 2.4 3.1 2.2 5-.2 1.9-1.2 3.7-2.6 4.8l.5.3zm-5.6-7.6c-2.6-.3-4.9 1.3-5.3 3.5-.4 2.2 1.4 4.3 4 4.7 2.6.4 5-1.1 5.4-3.4.4-2.2-1.4-4.4-4.1-4.8z"/>
        </svg>
    </button>

    <!-- å¤åˆ¶é“¾æ¥ -->
    <button onclick="copyLink()"
            class="w-12 h-12 bg-blue-500 hover:bg-blue-600 text-white rounded-full shadow-lg flex items-center justify-center transition-all hover:scale-110"
            title="å¤åˆ¶é“¾æ¥">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
        </svg>
    </button>

    <!-- å¾®ä¿¡åˆ†äº«ï¼ˆæ˜¾ç¤ºäºŒç»´ç ï¼‰ -->
    <button onclick="shareToWechat()"
            class="w-12 h-12 bg-green-500 hover:bg-green-600 text-white rounded-full shadow-lg flex items-center justify-center transition-all hover:scale-110"
            title="åˆ†äº«åˆ°å¾®ä¿¡">
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M8.5 12c-.8 0-1.5.7-1.5 1.5s.7 1.5 1.5 1.5 1.5-.7 1.5-1.5-.7-1.5-1.5-1.5zm7 0c-.8 0-1.5.7-1.5 1.5s.7 1.5 1.5 1.5 1.5-.7 1.5-1.5-.7-1.5-1.5-1.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-1.21 0-2.34-.27-3.37-.75-.7.43-2.26 1.18-4.08 1.45.58-.85 1.12-2.15 1.35-3.22C4.42 15.78 3.5 14 3.5 12c0-4.14 3.36-7.5 7.5-7.5s7.5 3.36 7.5 7.5-3.36 7.5-7.5 7.5z"/>
        </svg>
    </button>
</div>

<!-- å¾®ä¿¡åˆ†äº«äºŒç»´ç å¼¹çª— -->
<div id="wechatModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
    <div class="bg-white rounded-lg p-8 max-w-sm mx-4">
        <div class="text-center mb-4">
            <h3 class="text-xl font-bold text-gray-900">å¾®ä¿¡æ‰«ç åˆ†äº«</h3>
            <p class="text-sm text-gray-600 mt-2">è¯·ä½¿ç”¨å¾®ä¿¡æ‰«æäºŒç»´ç </p>
        </div>
        <div id="qrcodeContainer" class="flex justify-center mb-4"></div>
        <button onclick="closeWechatModal()"
                class="w-full bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded">
            å…³é—­
        </button>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
<script>
// åˆ†äº«åˆ°å¾®åš
function shareToWeibo() {
    const url = window.location.href;
    const title = document.querySelector('meta[property="og:title"]').content;
    const pic = document.querySelector('meta[property="og:image"]').content;

    const weiboUrl = `https://service.weibo.com/share/share.php?url=${encodeURIComponent(url)}&title=${encodeURIComponent(title)}&pic=${encodeURIComponent(pic)}`;
    window.open(weiboUrl, '_blank', 'width=600,height=400');
}

// å¤åˆ¶é“¾æ¥
function copyLink() {
    const url = window.location.href;
    navigator.clipboard.writeText(url).then(() => {
        showToast('âœ… é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
    }).catch(() => {
        // é™çº§æ–¹æ¡ˆ
        const input = document.createElement('input');
        input.value = url;
        document.body.appendChild(input);
        input.select();
        document.execCommand('copy');
        document.body.removeChild(input);
        showToast('âœ… é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
    });
}

// åˆ†äº«åˆ°å¾®ä¿¡ï¼ˆæ˜¾ç¤ºäºŒç»´ç ï¼‰
let qrcodeGenerated = false;
function shareToWechat() {
    const modal = document.getElementById('wechatModal');
    modal.classList.remove('hidden');
    modal.classList.add('flex');

    if (!qrcodeGenerated) {
        const container = document.getElementById('qrcodeContainer');
        container.innerHTML = ''; // æ¸…ç©º
        new QRCode(container, {
            text: window.location.href,
            width: 256,
            height: 256
        });
        qrcodeGenerated = true;
    }
}

function closeWechatModal() {
    const modal = document.getElementById('wechatModal');
    modal.classList.add('hidden');
    modal.classList.remove('flex');
}

// Toastæç¤º
function showToast(message) {
    const toast = document.createElement('div');
    toast.className = 'fixed top-4 right-4 bg-gray-900 text-white px-6 py-3 rounded-lg shadow-lg z-50';
    toast.textContent = message;
    document.body.appendChild(toast);

    setTimeout(() => {
        toast.style.opacity = '0';
        toast.style.transition = 'opacity 0.3s';
        setTimeout(() => document.body.removeChild(toast), 300);
    }, 2000);
}

// æ»šåŠ¨æ—¶éšè—/æ˜¾ç¤ºåˆ†äº«æŒ‰é’®
let lastScroll = 0;
window.addEventListener('scroll', () => {
    const currentScroll = window.pageYOffset;
    const buttons = document.getElementById('shareButtons');

    if (currentScroll > 200) {
        if (currentScroll > lastScroll) {
            buttons.style.opacity = '0.3';
        } else {
            buttons.style.opacity = '1';
        }
    } else {
        buttons.style.opacity = '1';
    }

    lastScroll = currentScroll;
});
</script>

<!-- ç›¸å…³æ–‡ç« æ¨è -->
<section class="max-w-4xl mx-auto px-4 py-12 border-t border-gray-200">
    <h3 class="text-2xl font-bold text-gray-900 mb-6">ğŸ“š ç›¸å…³æ–‡ç« æ¨è</h3>
    <div class="grid md:grid-cols-2 gap-6">
        <a href="/blog/posts/rag-enterprise-knowledge-base.html" class="block p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition">
            <h4 class="font-semibold text-gray-900 mb-2">RAGæŠ€æœ¯åœ¨ä¼ä¸šçŸ¥è¯†åº“ä¸­çš„åº”ç”¨å®è·µ</h4>
            <p class="text-sm text-gray-600">æ·±å…¥è§£æRAGæŠ€æœ¯å¦‚ä½•è§£å†³ä¼ä¸šçŸ¥è¯†åº“åº”ç”¨ç—›ç‚¹</p>
        </a>
        <a href="/blog/posts/ai-cost-optimization-guide.html" class="block p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition">
            <h4 class="font-semibold text-gray-900 mb-2">AIåº”ç”¨æˆæœ¬ä¼˜åŒ–å®Œå…¨æŒ‡å—</h4>
            <p class="text-sm text-gray-600">ä»æ¯æœˆ$5000é™è‡³$800çš„å®æˆ˜ç»éªŒåˆ†äº«</p>
        </a>
    </div>
</section>

</body>
</html>